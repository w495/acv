qx.$$packageData['1']={"locales":{},"resources":{"qx/icon/Tango/16/actions/address-book-new.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/application-exit.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/appointment-new.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/bookmark-new.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/check-spelling.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/contact-new.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/dialog-apply.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/dialog-cancel.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/dialog-close.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/dialog-ok.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/document-new.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/document-open-recent.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/document-open.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/document-print-preview.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/document-print.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/document-properties.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/document-revert.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/document-save-as.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/document-save.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/document-send.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/edit-clear.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/edit-copy.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/edit-cut.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/edit-delete.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/edit-find.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/edit-paste.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/edit-redo.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/edit-select-all.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/edit-undo.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/folder-new.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/format-indent-less.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/format-indent-more.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/format-justify-center.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/format-justify-fill.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/format-justify-left.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/format-justify-right.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/format-text-bold.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/format-text-direction-ltr.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/format-text-direction-rtl.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/format-text-italic.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/format-text-strikethrough.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/format-text-underline.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/go-bottom.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/go-down.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/go-first.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/go-home.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/go-last.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/go-next.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/go-previous.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/go-top.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/go-up.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/help-about.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/help-contents.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/help-faq.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/insert-image.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/insert-link.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/insert-text.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/list-add.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/list-remove.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/mail-forward.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/mail-mark-important.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/mail-mark-junk.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/mail-mark-read.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/mail-mark-unread.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/mail-message-new.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/mail-receive.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/mail-reply-all.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/mail-reply-sender.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/mail-send.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/media-eject.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/media-playback-pause.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/media-playback-start.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/media-playback-stop.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/media-record.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/media-seek-backward.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/media-seek-forward.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/media-skip-backward.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/media-skip-forward.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/object-flip-horizontal.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/object-flip-vertical.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/object-rotate-left.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/object-rotate-right.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/process-stop.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/system-log-out.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/system-run.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/system-search.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/system-shutdown.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/view-fullscreen.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/view-refresh.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/view-restore.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/view-sort-ascending.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/view-sort-descending.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/window-close.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/window-new.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/zoom-fit-best.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/zoom-in.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/zoom-original.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/zoom-out.png":[16,16,"png","qx"],"qx/icon/Tango/16/apps/utilities-help.png":[16,16,"png","qx"],"qx/static/blank.html":"qx"},"translations":{}};
qx.Part.$$notifyLoad("1", function() {
(function(){var b="qx.ui.menubar.MenuBar",a="menubar";
qx.Class.define(b,{extend:qx.ui.toolbar.ToolBar,properties:{appearance:{refine:true,init:a}}});
})();
(function(){var k="qx.event.type.Data",j="Boolean",i="qx.event.type.Event",h="mousedown",g="DOMNodeRemoved",f="String",d="none",c="engine.name",b="appear",a="mouseup",bh="losecapture",bg="display",bf="xhtml",be="_applyUseUndoRedo",bd="focusOut",bc="_applyMessengerMode",bb="url(",ba=")",Y="InsertParagraphOnLinebreak",X="gecko",r="repeat",s="undoRedoState",p="div",q="messengerContent",n="Integer",o="NativeContextMenu",l="focused",m="Function",v="Please use the method 'qx.dom.Node.isBlockNode' instead.",w="_applyInsertParagraphOnLinebreak",E="PostProcess",C="_applyInsertLinebreakOnCtrlEnter",M="ContentType",H="px",T="set",R="DefaultFontSize",y="cursorContext",W="htmlarea",V="ready",U="loadingError",x="MessengerMode",A="_applyDefaultFontSize",B="UseUndoRedo",D="_applyDefaultFontFamily",F="__Do",I="__CL",O="_applyContentType",S="qx.ui.embed.HtmlArea",t="mshtml",u="Verdana",z="block",L="DefaultFontFamily",K="contextmenu",J="readyAfterInvalid",Q="InsertLinebreakOnCtrlEnter",P="qx/static/blank.gif",G="_applyPostProcess",N="absolute";
qx.Class.define(S,{extend:qx.ui.core.Widget,construct:function(bi,bj,bk){this.__Dm={};
qx.ui.core.Widget.call(this);
this._setLayout(new qx.ui.layout.Grow);
this.__Dq();
this.__Dn={content:bi,styleInfo:bj,source:bk};
qx.event.Registration.addListener(document.body,h,this.block,this,true);
qx.event.Registration.addListener(document.body,a,this.release,this,true);
qx.event.Registration.addListener(document.body,bh,this.release,this,true);
},events:{"loadingError":k,"messengerContent":k,"cursorContext":k,"ready":i,"readyAfterInvalid":i,"focused":i,"focusOut":i,"contextmenu":k,"undoRedoState":k},statics:{isBlockNode:function(bl){var bm=qx.ui.embed.HtmlArea.isBlockNode;
var bn=v;
qx.log.Logger.deprecatedMethodWarning(bm,bn);
return qx.dom.Node.isBlockNode(bl);
},isParagraphParent:function(bo){return qx.bom.htmlarea.HtmlArea.isParagraphParent(bo);
}},properties:{contentType:{check:f,init:bf,apply:O},messengerMode:{check:j,init:false,apply:bc},insertParagraphOnLinebreak:{check:j,init:true,apply:w},insertLinebreakOnCtrlEnter:{check:j,init:true,apply:C},postProcess:{check:m,nullable:true,init:null,apply:G},useUndoRedo:{check:j,init:true,apply:be},appearance:{refine:true,init:W},defaultFontFamily:{check:f,init:u,apply:D},defaultFontSize:{check:n,init:4,apply:A},focusable:{refine:true,init:true}},members:{__Do:null,__Dm:null,__CL:null,__Dn:null,__Dp:null,_initBlockerElement:function(){if(!this.__CL){this.__CL=this._createBlockerElement();
}},_applyContentType:function(bp,bq){if(this.__Do!=null){this.__Do.setContentType(bp);
}else{this.__Dm[M]=bp;
}},_applyMessengerMode:function(br,bs){if(this.__Do!=null){this.__Do.setMessengerMode(br);
}else{this.__Dm[x]=br;
}},_applyInsertParagraphOnLinebreak:function(bt,bu){if(this.__Do!=null){this.__Do.setInsertParagraphOnLinebreak(bt);
}else{this.__Dm[Y]=bt;
}},_applyInsertLinebreakOnCtrlEnter:function(bv,bw){if(this.__Do!=null){this.__Do.setInsertLinebreakOnCtrlEnter(bv);
}else{this.__Dm[Q]=bv;
}},_applyPostProcess:function(bx,by){if(this.__Do!=null){this.__Do.setPostProcess(bx);
}else{this.__Dm[E]=bx;
}},_applyUseUndoRedo:function(bz,bA){if(this.__Do!=null){this.__Do.setUseUndoRedo(bz);
}else{this.__Dm[B]=bz;
}},_applyDefaultFontFamily:function(bB,bC){if(this.__Do!=null){this.__Do.setDefaultFontFamily(bB);
}else{this.__Dm[L]=bB;
}},_applyDefaultFontSize:function(bD,bE){if(this.__Do!=null){this.__Do.setDefaultFontSize(bD);
}else{this.__Dm[R]=bD;
}},_applyNativeContextMenu:function(bF,bG){if(this.__Do!=null){this.__Do.setNativeContextMenu(bF);
}else{this.__Dm[o]=bF;
}},_createBlockerElement:function(){var bH=new qx.html.Element(p);
bH.setStyles({zIndex:20,position:N,display:d});
if((qx.core.Environment.get(c)==t)){bH.setStyles({backgroundImage:bb+qx.util.ResourceManager.getInstance().toUri(P)+ba,backgroundRepeat:r});
}return bH;
},__Dq:function(){this.addListenerOnce(b,this.__Dr);
},__Dr:function(){var bI=this.getContentElement().getDomElement();
this.__Do=new qx.bom.htmlarea.HtmlArea(bI,this.__Dn.content,this.__Dn.styleInfo,this.__Dn.source);
this.__Ds();
this.__Dt();

if((qx.core.Environment.get(c)==X)){this.__Dw();
}this.addListener(b,this.forceEditable);
},__Ds:function(){for(var bJ in this.__Dm){this.__Do[T+bJ](this.__Dm[bJ]);
}},__Dt:function(){this.__Do.addListener(V,this.__Du,this);
this.__Do.addListener(J,this.__Du,this);
this.__Do.addListener(l,this.__Du,this);
this.__Do.addListener(bd,this.__Du,this);
this.__Do.addListener(U,this.__Dv,this);
this.__Do.addListener(y,this.__Dv,this);
this.__Do.addListener(K,this.__Dv,this);
this.__Do.addListener(s,this.__Dv,this);
this.__Do.addListener(q,this.__Dv,this);
},__Du:function(e){var bK=e.clone();
this.fireEvent(bK.getType());
},__Dv:function(e){var bL=e.clone();
this.fireDataEvent(bL.getType(),e.getData());
},__Dw:function(){this.__Dp=qx.lang.Function.bind(this.__Dx,this);
var bM=this.getContainerElement().getDomElement();
qx.bom.Event.addNativeListener(bM,g,this.__Dp);
},__Dx:qx.event.GlobalError.observeMethod(function(e){if(this.__Do&&!this.__Do.isDisposed()){this.__Do.invalidateEditor();
}}),renderLayout:function(bN,top,bO,bP){qx.ui.core.Widget.prototype.renderLayout.call(this,bN,top,bO,bP);
var bR=H;
var bQ=this.getInsets();

if(!this.__CL){this._initBlockerElement();
}this.__CL.setStyles({left:bQ.left+bR,top:bQ.top+bR,width:(bO-bQ.left-bQ.right)+bR,height:(bP-bQ.top-bQ.bottom)+bR});
},getIframeObject:function(){return this.__Do!=null?this.__Do.getIframeObject():null;
},getCommandManager:function(){return this.__Do!=null?this.__Do.getCommandManager():null;
},setValue:function(bS){if(this.__Do!=null){this.__Do.setValue(bS);
}else{this.__Dn.content=bS;
}},getValue:function(){if(this.__Do!=null){return this.__Do.getValue();
}else{return this.__Dn.content;
}},getComputedValue:function(bT){return this.__Do!=null?this.__Do.getHtml(bT):null;
},getCompleteHtml:function(){return this.__Do!=null?this.__Do.getCompleteHtml():null;
},getContentDocument:function(){return this.__Do!=null?this.__Do.getContentDocument():null;
},getContentBody:function(){return this.__Do!=null?this.__Do.getContentBody():null;
},getContentWindow:function(){return this.__Do!=null?this.__Do.getContentWindow():null;
},getWords:function(bU){return this.__Do!=null?this.__Do.getWords(bU):null;
},getWordsWithElement:function(){return this.__Do!=null?this.__Do.getWordsWithElement():null;
},getTextNodes:function(){return this.__Do!=null?this.__Do.getTextNodes():null;
},isReady:function(){return this.__Do!=null?this.__Do.isReady():false;
},forceEditable:function(){if(this.__Do!=null){this.__Do.forceEditable();
}},isLoaded:function(){return this.__Do!=null?this.__Do.isLoaded():false;
},setEditable:function(bV){if(this.__Do!=null){this.__Do.setEditable(bV);
}},getEditable:function(){return this.__Do!=null?this.__Do.getEditable():false;
},isEditable:function(){return this.__Do!=null?this.__Do.isEditable():false;
},insertHtml:function(bW){return this.__Do!=null?this.__Do.insertHtml(bW):false;
},removeFormat:function(){return this.__Do!=null?this.__Do.removeFormat():false;
},setBold:function(){return this.__Do!=null?this.__Do.setBold():false;
},setItalic:function(){return this.__Do!=null?this.__Do.setItalic():false;
},setUnderline:function(){return this.__Do!=null?this.__Do.setUnderline():false;
},setStrikeThrough:function(){return this.__Do!=null?this.__Do.setStrikeThrough():false;
},setFontSize:function(bX){return this.__Do!=null?this.__Do.setFontSize(bX):false;
},setFontFamily:function(bY){return this.__Do!=null?this.__Do.setFontFamily(bY):false;
},setTextColor:function(ca){return this.__Do!=null?this.__Do.setTextColor(ca):false;
},setTextBackgroundColor:function(cb){return this.__Do!=null?this.__Do.setTextBackgroundColor(cb):false;
},setJustifyLeft:function(){return this.__Do!=null?this.__Do.setJustifyLeft():false;
},setJustifyCenter:function(){return this.__Do!=null?this.__Do.setJustifyCenter():false;
},setJustifyRight:function(){return this.__Do!=null?this.__Do.setJustifyRight():false;
},setJustifyFull:function(){return this.__Do!=null?this.__Do.setJustifyFull():false;
},insertIndent:function(){return this.__Do!=null?this.__Do.insertIndent():false;
},insertOutdent:function(){return this.__Do!=null?this.__Do.insertOutdent():false;
},insertOrderedList:function(){return this.__Do!=null?this.__Do.insertOrderedList():false;
},insertUnorderedList:function(){return this.__Do!=null?this.__Do.insertUnorderedList():false;
},insertHorizontalRuler:function(){return this.__Do!=null?this.__Do.insertHorizontalRuler():false;
},insertImage:function(cc){return this.__Do!=null?this.__Do.insertImage(cc):false;
},insertHyperLink:function(cd){return this.__Do!=null?this.__Do.insertHyperLink(cd):false;
},removeBackgroundColor:function(){return this.__Do!=null?this.__Do.removeBackgroundColor():false;
},setBackgroundColor:function(ce){return this.__Do!=null?this.__Do.setBackgroundColor(ce):false;
},removeBackgroundImage:function(){return this.__Do!=null?this.__Do.removeBackgroundImage():false;
},setBackgroundImage:function(cf,cg,ch){return this.__Do!=null?this.__Do.setBackgroundImage(cf,cg,ch):false;
},selectAll:function(){return this.__Do!=null?this.__Do.selectAll():false;
},undo:function(){return this.__Do!=null?this.__Do.undo():false;
},redo:function(){return this.__Do!=null?this.__Do.redo():false;
},resetHtml:function(){if(this.__Do!=null){this.__Do.resetHtml();
}},getHtml:function(ci){return this.__Do!=null?this.__Do.getHtml(ci):null;
},containsOnlyPlaceholder:function(){return this.__Do!=null?this.__Do.containsOnlyPlaceHolder():false;
},getContextInformation:function(){return this.__Do!=null?this.__Do.getContextInformation():null;
},getSelection:function(){return this.__Do!=null?this.__Do.getSelection():null;
},getSelectedText:function(){return this.__Do!=null?this.__Do.getSelectedText():null;
},getSelectedHtml:function(){return this.__Do!=null?this.__Do.getSelectedHtml():null;
},clearSelection:function(){if(this.__Do!=null){this.__Do.clearSelection();
}},getRange:function(){return this.__Do.getRange();
},saveRange:function(){this.__Do.saveRange();
},getSavedRange:function(){return this.__Do.getSavedRange();
},resetSavedRange:function(){this.__Do.resetSavedRange();
},getFocusNode:function(){return this.__Do!=null?this.__Do.getFocusNode():null;
},block:function(){if(!this.__CL){this._initBlockerElement();
}
if(!this.getContainerElement().hasChild(this.__CL)){this.getContainerElement().add(this.__CL);
}this.__CL.setStyle(bg,z);
},release:function(){if(this.__CL){this.__CL.setStyle(bg,d);
}},focus:function(){qx.ui.core.Widget.prototype.focus.call(this);
this.__Dy();
},tabFocus:function(){qx.ui.core.Widget.prototype.tabFocus.call(this);
this.__Dy();
},__Dy:function(){if(this.__Do!=null){qx.event.Timer.once(function(){this.__Do.focusContent();
},this,0);
}}},destruct:function(){this.__Dm=this.__Dn=null;
qx.event.Registration.removeListener(document.body,h,this.block,this,true);
qx.event.Registration.removeListener(document.body,a,this.release,this,true);
qx.event.Registration.removeListener(document.body,bh,this.release,this,true);
var cj=this.getContainerElement().getDomElement();

if(cj){qx.bom.Event.removeNativeListener(cj,g,this.__Dp);
}this._disposeObjects(I,F);
}});
})();
(function(){var cu="execute",ct="changeValue",cs="",cr="changeSelection",cq="icon/16/actions/format-justify-fill.png",cp="<tr>",co="icon/16/actions/format-justify-left.png",cn="icon/16/actions/format-justify-center.png",cm="icon/16/actions/edit-undo.png",cl="</tr>",bv="#",bu="qooxdoo logo",bt="icon/16/actions/format-justify-right.png",bs="icon/16/actions/edit-redo.png",br="icon/16/actions/system-search.png",bq="Online Forum",bp="New",bo="icon/16/actions/edit-cut.png",bn="Search in files",bm="Georgia",cB="Left aligned",cC="Undo",cz="http://",cA="Print",cx="Change Font Size",cy="Perl",cv="C Dialect",cw="showcase/htmleditor/format-list-unordered.png",cD="BgColor (Hex): ",cE="Indent More",bT="Save as...",bS="Show line numbers",bV="icon/16/actions/document-save.png",bU="icon/16/actions/format-text-strikethrough.png",bX="Quickstart",bW="icon/16/actions/format-indent-more.png",ca="Cut",bY="Ctrl+N",bR="icon/16/actions/edit-paste.png",bQ="Align Right",a="Format Italic",b="Redo",c="Show status bar",d="ANSI to OEM",f="Editor",g="Paragraph",h="OK",k="Ctrl+O",l="icon/16/actions/document-print.png",m="Comic Sans MS",cQ="Tahoma",cP="icon/16/actions/format-text-italic.png",cO="Show console",cN="Close",cU="showcase.page.htmleditor.Content",cT="<td>First Row, First cell</td>",cS="htmlarea/image/qooxdoo_logo.png",cR="icon/16/actions/document-save-as.png",cW="Python",cV="icon/16/apps/utilities-help.png",L="Show tree",M="Align Justify",J="Spaces to tabs",K="Right aligned",P="Inserted Unordered List",Q="OEM to ANSI",N="JavaScript",O="white",H="HTML Code:",I="C",u="Cancel",t="<td>Second Row, First cell</td>",w="Save",v="</tbody>",q="Capitals",p="icon/16/actions/application-exit.png",s="ASCII table",r="C Plus Plus",o="Search next...",n="Tabs to spaces",V="Replace in files",W="Uppercase",X="Arial Black",Y="Ctrl+P",R="Topics",S="Impact",T="XML",U="Panes",ba="Justified",bb="C Sharp",E="Redo Last Undo Step",D="Ctrl+X",C="Format Bold",B="Search previous...",A="Change Font Family",z="Show ruler",y="right",x="Color (Hex): ",G="Insert Hyperlink",F="Copy",bc="icon/16/actions/document-open.png",bd="Paste",be="Remove Format",bf="Ctrl+C",bg="blank.html",bh="</table>",bi="12px ",bj="<td>First Row, Second cell</td>",bk="Ctrl+Z",bl="Insert Ordered List",bz="Centered",by="Ctrl+R",bx="Show macros",bw="Show tags",bD="Courier",bC="Courier New",bB="Info...",bA="<td>Second Row, Second cell</td>",bF="Show tabs",bE="icon/16/actions/edit-clear.png",bM='<p>qooxdoo (pronounced [ku:ksdu:]) is a comprehensive and innovative Ajax application framework. Leveraging object-oriented JavaScript allows developers to build impressive cross-browser applications. No HTML, CSS nor DOM knowledge is needed. qooxdoo includes a platform-independent development tool chain, a state-of-the-art GUI toolkit and an advanced client-server communication layer. It is Open Source under an LGPL (GNU Lesser General Public License) / EPL (Eclipse Public License) dual <a href="http://qooxdoo.org/license" class="wikilink1" title="license" target="_blank">license</a>.</p>',bN="Align Left",bK="icon/16/actions/edit-copy.png",bL="Undo Last Change",bI="Search...",bJ="<tbody>",bG="Times New Roman",bH="Open",bO="icon/16/actions/format-text-underline.png",bP="Objective C",ce="Align Center",cd="Exit",cg="Lucida Console",cf="Ctrl+S",ci="icon/16/actions/format-indent-less.png",ch="icon/16/actions/format-text-bold.png",ck="Syntax",cj="Arial",cc="Verdana",cb="Indent Less",cJ="showcase/htmleditor/format-list-ordered.png",cK="Format Strikethrough",cL="Format Underline",cM="icon/16/actions/document-new.png",cF="<table border='1'>",cG="Lowercase",cH="Replace",cI="HTML";
qx.Class.define(cU,{extend:showcase.page.AbstractDesktopContent,construct:function(cX){showcase.page.AbstractDesktopContent.call(this,cX);
},members:{__Kq:null,__Do:null,_addWindowContent:function(cY){cY.set({layout:new qx.ui.layout.Canvas(),width:540,height:400,caption:f});
var db=bM;
this.__Kq=new qx.ui.embed.HtmlArea(db,null,bg);
this.__Kq.set({width:540,height:370,margin:5});
var da=new qx.ui.layout.VBox(0);
var dc=new qx.ui.container.Composite(da).set({width:540,height:370,backgroundColor:O});
var dd=this.__KB();
dc.add(dd);
var toolbar=this.__KA();
dc.add(toolbar);
dc.add(this.__Kq,{flex:1});
cY.add(dc,{edge:0});
},__Kr:function(e){var de=window.prompt(x,bv);
this.setTextColor(de);
},__Ks:function(e){var df=window.prompt(cD,bv);
this.setTextBackgroundColor(df);
},__Kt:function(e){var dg={src:qx.util.ResourceManager.getInstance().toUri(cS),border:0,title:bu,alt:bu};
this.insertImage(dg);
},__Ku:function(e){var dh=cF+bJ+cp+cT+bj+cl+cp+t+bA+cl+v+bh;
this.insertHtml(dh);
},__Kv:function(e){var dj=new qx.ui.window.Window(G);
dj.setLayout(new qx.ui.layout.VBox(20));
dj.set({width:400,showMaximize:false,showMinimize:false});
var dn=new qx.ui.form.TextField(cz);
dj.add(dn);
var dl=new qx.ui.layout.HBox(10);
dl.setAlignX(y);
var dm=new qx.ui.container.Composite(dl);
var di=new qx.ui.form.Button(h);
di.setWidth(60);
di.addListener(cu,function(e){this.insertHyperLink(dn.getValue());
dj.close();
},this);
dm.add(di);
var dk=new qx.ui.form.Button(u);
dk.setWidth(60);
dk.addListener(cu,function(e){dj.close();
},this);
dm.add(dk);
dj.add(dm);
dj.center();
dj.open();
this.__Do.saveRange();
},__Kw:function(e){var dp=window.prompt(H,cs);
this.insertHtml(dp);
},__Kx:function(){var dr=new qx.ui.form.SelectBox;
dr.set({toolTipText:A,focusable:false,keepFocus:true,width:120,height:16,margin:[4,0]});
dr.add(new qx.ui.form.ListItem(cs));
var ds=[cQ,cc,bG,cj,X,bC,bD,bm,S,m,cg];
var dq;

for(var i=0,j=ds.length;i<j;i++){dq=new qx.ui.form.ListItem(ds[i]);
dq.set({focusable:false,keepFocus:true,font:qx.bom.Font.fromString(bi+ds[i])});
dr.add(dq);
}dr.addListener(cr,function(e){var dt=e.getData()[0].getLabel();

if(dt!=cs){this.setFontFamily(dt);
dr.setSelection([dr.getChildren()[0]]);
}},this.__Kq);
return dr;
},__Ky:function(){var dv=new qx.ui.form.SelectBox;
dv.set({toolTipText:cx,focusable:false,keepFocus:true,width:50,height:16,margin:[4,0]});
dv.add(new qx.ui.form.ListItem(cs));
var du;

for(var i=1;i<=7;i++){du=new qx.ui.form.ListItem(i+cs);
du.set({focusable:false,keepFocus:true});
dv.add(du);
}dv.addListener(cr,function(e){var dw=e.getData()[0].getLabel();

if(dw!=cs){this.setFontSize(dw);
dv.setSelection([dv.getChildren()[0]]);
}},this.__Kq);
return dv;
},__Kz:function(){return [{bold:{text:C,image:ch,action:this.__Kq.setBold},italic:{text:a,image:cP,action:this.__Kq.setItalic},underline:{text:cL,image:bO,action:this.__Kq.setUnderline},strikethrough:{text:cK,image:bU,action:this.__Kq.setStrikeThrough},removeFormat:{text:be,image:bE,action:this.__Kq.removeFormat}},{alignLeft:{text:bN,image:co,action:this.__Kq.setJustifyLeft},alignCenter:{text:ce,image:cn,action:this.__Kq.setJustifyCenter},alignRight:{text:bQ,image:bt,action:this.__Kq.setJustifyRight},alignJustify:{text:M,image:cq,action:this.__Kq.setJustifyFull}},{indent:{text:cE,image:bW,action:this.__Kq.insertIndent},outdent:{text:cb,image:ci,action:this.__Kq.insertOutdent}},{ol:{text:bl,image:cJ,action:this.__Kq.insertOrderedList},ul:{text:P,image:cw,action:this.__Kq.insertUnorderedList}},{undo:{text:bL,image:cm,action:this.__Kq.undo},redo:{text:E,image:bs,action:this.__Kq.redo}}];
},__KA:function(){var toolbar=new qx.ui.toolbar.ToolBar;
var dx;
var dy=this.__Kz();

for(var i=0,j=dy.length;i<j;i++){var dz=new qx.ui.toolbar.Part;
toolbar.add(dz);

for(var dA in dy[i]){var dB=dy[i][dA];

if(dB.custom){dx=dB.custom.call(this);
}else{dx=new qx.ui.toolbar.Button(null,dB.image);
dx.set({focusable:false,keepFocus:true,center:true,toolTipText:dB.text?dB.text:""});
dx.addListener("execute",dB.action,this.__Kq);
}dz.add(dx);
}}return toolbar;
},debugRadio:function(e){alert("This command is not yet implemented!");
},debugCommand:function(e){alert("This command is not yet implemented!");
},debugButton:function(e){alert("This command is not yet implemented!");
},debugCheckBox:function(e){alert("This command is not yet implemented!");
},createCommands:function(){this._newCommand=new qx.ui.core.Command(bY);
this._newCommand.addListener(cu,this.debugCommand);
this._openCommand=new qx.ui.core.Command(k);
this._openCommand.addListener(cu,this.debugCommand);
this._saveCommand=new qx.ui.core.Command(cf);
this._saveCommand.addListener(cu,this.debugCommand);
this._undoCommand=new qx.ui.core.Command(bk);
this._undoCommand.addListener(cu,this.debugCommand);
this._redoCommand=new qx.ui.core.Command(by);
this._redoCommand.addListener(cu,this.debugCommand);
this._cutCommand=new qx.ui.core.Command(D);
this._cutCommand.addListener(cu,this.debugCommand);
this._copyCommand=new qx.ui.core.Command(bf);
this._copyCommand.addListener(cu,this.debugCommand);
this._pasteCommand=new qx.ui.core.Command(Y);
this._pasteCommand.addListener(cu,this.debugCommand);
this._pasteCommand.setEnabled(false);
},__KB:function(){this.createCommands();
var menubar=new qx.ui.menubar.MenuBar().set({decorator:new qx.ui.decoration.Single().set({backgroundImage:"decoration/menu/bar-background.png",backgroundRepeat:"scale",bottom:[1,"solid","border-separator"]})});
var dD=new qx.ui.menubar.Button("File",null,this.getFileMenu());
var dC=new qx.ui.menubar.Button("Edit",null,this.getEditMenu());
var dF=new qx.ui.menubar.Button("Search",null,this.getSearchMenu());
var dE=new qx.ui.menubar.Button("View",null,this.getViewMenu());
var dH=new qx.ui.menubar.Button("Format",null,this.getFormatMenu());
var dG=new qx.ui.menubar.Button("Help",null,this.getHelpMenu());
menubar.add(dD);
menubar.add(dC);
menubar.add(dF);
menubar.add(dE);
menubar.add(dH);
menubar.add(new qx.ui.core.Spacer(),{flex:1});
menubar.add(dG);
return menubar;
},getFileMenu:function(){var dK=new qx.ui.menu.Menu;
var dI=new qx.ui.menu.Button(bp,cM,this._newCommand);
var dM=new qx.ui.menu.Button(bH,bc,this._openCommand);
var dL=new qx.ui.menu.Button(cN);
var dP=new qx.ui.menu.Button(w,bV,this._saveCommand);
var dO=new qx.ui.menu.Button(bT,cR);
var dN=new qx.ui.menu.Button(cA,l);
var dJ=new qx.ui.menu.Button(cd,p);
dL.addListener(cu,this.debugButton);
dO.addListener(cu,this.debugButton);
dN.addListener(cu,this.debugButton);
dJ.addListener(cu,this.debugButton);
dK.add(dI);
dK.add(dM);
dK.add(dL);
dK.add(dP);
dK.add(dO);
dK.add(dN);
dK.add(dJ);
return dK;
},getEditMenu:function(){var dR=new qx.ui.menu.Menu;
var dU=new qx.ui.menu.Button(cC,cm,this._undoCommand);
var dT=new qx.ui.menu.Button(b,bs,this._redoCommand);
var dQ=new qx.ui.menu.Button(ca,bo,this._cutCommand);
var dV=new qx.ui.menu.Button(F,bK,this._copyCommand);
var dS=new qx.ui.menu.Button(bd,bR,this._pasteCommand);
dR.add(dU);
dR.add(dT);
dR.addSeparator();
dR.add(dQ);
dR.add(dV);
dR.add(dS);
return dR;
},getSearchMenu:function(){var ea=new qx.ui.menu.Menu;
var dX=new qx.ui.menu.Button(bI,br);
var ed=new qx.ui.menu.Button(o);
var dY=new qx.ui.menu.Button(B);
var ec=new qx.ui.menu.Button(cH);
var dW=new qx.ui.menu.Button(bn,br);
var eb=new qx.ui.menu.Button(V);
dY.setEnabled(false);
dX.addListener(cu,this.debugButton);
ed.addListener(cu,this.debugButton);
dY.addListener(cu,this.debugButton);
ec.addListener(cu,this.debugButton);
dW.addListener(cu,this.debugButton);
eb.addListener(cu,this.debugButton);
ea.add(dX);
ea.add(ed);
ea.add(dY);
ea.add(ec);
ea.addSeparator();
ea.add(dW);
ea.add(eb);
return ea;
},getViewMenu:function(){var ee=new qx.ui.menu.Menu;
var eg=new qx.ui.menu.Button(U,null,null,this.getPanesMenu());
var ej=new qx.ui.menu.Button(ck,null,null,this.getSyntaxMenu());
var ei=new qx.ui.menu.CheckBox(z);
var eh=new qx.ui.menu.CheckBox(bS);
var ef=new qx.ui.menu.Button(s);
ei.addListener(ct,this.debugCheckBox);
eh.addListener(ct,this.debugCheckBox);
ef.addListener(cu,this.debugButton);
ee.add(eg);
ee.add(ej);
ee.addSeparator();
ee.add(ei);
ee.add(eh);
ee.addSeparator();
ee.add(ef);
return ee;
},getPanesMenu:function(){var el=new qx.ui.menu.Menu;
var en=new qx.ui.menu.CheckBox(bF);
var ep=new qx.ui.menu.CheckBox(c);
var eq=new qx.ui.menu.CheckBox(L);
var em=new qx.ui.menu.CheckBox(bx);
var eo=new qx.ui.menu.CheckBox(bw);
var ek=new qx.ui.menu.CheckBox(cO);
en.setValue(true);
ep.setValue(true);
em.setValue(true);
en.addListener(ct,this.debugCheckBox);
ep.addListener(ct,this.debugCheckBox);
eq.addListener(ct,this.debugCheckBox);
em.addListener(ct,this.debugCheckBox);
eo.addListener(ct,this.debugCheckBox);
ek.addListener(ct,this.debugCheckBox);
el.add(ep);
el.add(en);
el.addSeparator();
el.add(eq);
el.add(em);
el.add(eo);
el.add(ek);
return el;
},getSyntaxMenu:function(){var ev=new qx.ui.menu.Menu;
var er=new qx.ui.menu.RadioButton(cI);
var et=new qx.ui.menu.RadioButton(T);
var es=new qx.ui.menu.RadioButton(N);
var eu=new qx.ui.menu.Button(cv,null,null,this.getSyntaxCMenu());
var ey=new qx.ui.menu.RadioButton(cy);
var ew=new qx.ui.menu.RadioButton(cW);
ev.add(er);
ev.add(et);
ev.add(es);
ev.add(eu);
ev.add(ey);
ev.add(ew);
var ex=new qx.ui.form.RadioGroup;
ex.add(er,et,es,ey,ew);
ex.add.apply(ex,eu.getMenu().getChildren());
ex.addListener(cr,this.debugRadio);
return ev;
},getSyntaxCMenu:function(){var eA=new qx.ui.menu.Menu;
var ez=new qx.ui.menu.RadioButton(I);
var eD=new qx.ui.menu.RadioButton(bb);
var eC=new qx.ui.menu.RadioButton(bP);
var eB=new qx.ui.menu.RadioButton(r);
eA.add(ez);
eA.add(eD);
eA.add(eC);
eA.add(eB);
return eA;
},getFormatMenu:function(){var eH=new qx.ui.menu.Menu;
var eG=new qx.ui.menu.Button(g,null,null,this.getParagraphMenu());
var eJ=new qx.ui.menu.Button(n);
var eK=new qx.ui.menu.Button(J);
var eF=new qx.ui.menu.Button(W);
var eI=new qx.ui.menu.Button(cG);
var eE=new qx.ui.menu.Button(q);
var eM=new qx.ui.menu.Button(Q);
var eL=new qx.ui.menu.Button(d);
eJ.addListener(cu,this.debugButton);
eK.addListener(cu,this.debugButton);
eF.addListener(cu,this.debugButton);
eI.addListener(cu,this.debugButton);
eE.addListener(cu,this.debugButton);
eM.addListener(cu,this.debugButton);
eL.addListener(cu,this.debugButton);
eH.add(eG);
eH.add(eJ);
eH.add(eK);
eH.addSeparator();
eH.add(eF);
eH.add(eI);
eH.add(eE);
eH.addSeparator();
eH.add(eM);
eH.add(eL);
return eH;
},getParagraphMenu:function(){var eN=new qx.ui.menu.Menu;
var eQ=new qx.ui.menu.Button(cB,co);
var eR=new qx.ui.menu.Button(K,bt);
var eO=new qx.ui.menu.Button(bz,cn);
var eP=new qx.ui.menu.Button(ba,cq);
eQ.addListener(cu,this.debugButton);
eR.addListener(cu,this.debugButton);
eO.addListener(cu,this.debugButton);
eP.addListener(cu,this.debugButton);
eN.add(eQ);
eN.add(eR);
eN.add(eO);
eN.add(eP);
return eN;
},getHelpMenu:function(){var eS=new qx.ui.menu.Menu;
var eU=new qx.ui.menu.Button(R,cV);
var eW=new qx.ui.menu.Button(bX);
var eV=new qx.ui.menu.Button(bq);
var eT=new qx.ui.menu.Button(bB);
eU.addListener(cu,this.debugButton);
eW.addListener(cu,this.debugButton);
eV.addListener(cu,this.debugButton);
eT.addListener(cu,this.debugButton);
eS.add(eU);
eS.add(eW);
eS.addSeparator();
eS.add(eV);
eS.addSeparator();
eS.add(eT);
return eS;
}}});
})();
(function(){var cy="engine.name",cx="",cw="mshtml",cv="gecko",cu="webkit",ct="opera",cs="qx.event.type.Data",cr="qx.event.type.Event",cq="Boolean",cp="enter",by="text-align",bx="right",bw="__elementToFocus__",bv="qx.bom.htmlarea.HtmlArea.debug",bu="left",bt="engine.version",bs="inserthtml",br="id",bq="italic",bp="body",cF="underline",cG="br",cD="b",cE="contextmenu",cB="pageup",cC="end",cz="keydown",cA='On',cH="redo",cI="i",bW="backspace",bV="bold",bY="mouseup",bX="down",cb="100%",ca='</head>',cd='<head>',cc='redo',bU="y",bT='Off',c="font-family",d="keypress",f=" ",g="fontsize",h="undo",k="pagedown",l="justify",m="p",n="center",o="backgroundcolor",cW='</style>',cV="u",cU="focus",cT="backgroundimage",db="click",da='<style type="text/css">',cY="up",cX="text-decoration",dd="blur",dc="font-size",O="None",P="control",M="delete",N="line-through",S="String",T="k",Q="fontfamily",R="keyup",K="loadingError",L="focusout",x="z",w="-",z="li",y='undo',t="<br class='webkit-block-placeholder' />",r="textbackgroundcolor",v="Function",u="home",q="focused",p="load",Y="setUnderline",ba="<br /><div id='placeholder'></div>",bb="transparent",bc="'>",U='underline',V='bold',W="ul",X="S",bd="setBold",be="P",H="<P>&nbsp;</P>",G="qx/static/blank.html",F="X",E="inserthorizontalrule",D="//text()[string-length(normalize-space(.))>0]",C="#",B="textcolor",A="a",J="cursorContext",I="removeformat",bf="__DA",bg="ready",bh="<p>&nbsp;</p>",bi="outline",bj=" html, body {overflow-x: visible; } ",bk="insertorderedlist",bl="> ",bm="styleWithCSS",bn="hideFocus",bo="none",bC="setItalic",bB="font-style",bA="xhtml",bz="focusOut",bG="Please use the method 'qx.dom.Node.isBlockNode' instead.",bF="Control",bE="justifyleft",bD='size',bI="font-weight",bH="LI",bP='italic',bQ="STYLE",bN="justifyfull",bO="inserthyperlink",bL="<br />",bM="<br>",bJ="justifycenter",bK="useCSS",bR="strikethrough",bS="text/html",ch="true",cg="1.9",cj="indent",ci="messengerContent",cl="insertunorderedlist",ck="Text",co="Integer",cn="_moz_dirty",cf='</body></html>',ce='<br/><div class="placeholder"></div>',cP="selectall",cQ=" SCRIPT STYLE DIV SPAN TR TD TBODY TABLE EM STRONG FONT A P B I U STRIKE H1 H2 H3 H4 H5 H6 ",cR="justifyright",cS="ol",cL="outdent",cM="about:blank",cN="<body style='",cO="qx.bom.htmlarea.HtmlArea",cJ="Verdana",cK="insertimage",b="Off";
qx.Class.define(cO,{extend:qx.core.Object,construct:function(de,df,dg,dh){qx.core.Object.call(this);
var dj=dh||qx.util.ResourceManager.getInstance().toUri(G);
this.__DR(de);
this.__DS();
this._createAndAddIframe(dj);
this._addIframeLoadListener();
this.__Dz=qx.bom.htmlarea.HtmlArea.__DB(dg);
if(qx.lang.Type.isString(df)){this.__vJ=df;
}if((qx.core.Environment.get(cy)==ct)){var di=qx.dom.Node.getWindow(de);
var dk=qx.event.Registration.getManager(di).getHandler(qx.event.handler.Keyboard);
dk._keyCodeToIdentifierMap[35]=C;
dk._keyCodeToIdentifierMap[45]=w;
dk._keyCodeToIdentifierMap[112]=be;
dk._keyCodeToIdentifierMap[115]=X;
dk._keyCodeToIdentifierMap[120]=F;
}this.__DA=this.__Eg();
},events:{"load":cr,"loadingError":cs,"messengerContent":cs,"cursorContext":cs,"ready":cr,"readyAfterInvalid":cr,"focused":cr,"focusOut":cr,"contextmenu":cs,"undoRedoState":cs},statics:{simpleLinebreak:bM,EMPTY_DIV:"<div></div>",GetWordsRegExp:/([^\u0000-\u0040\u005b-\u005f\u007b-\u007f]|['])+/g,CleanupWordsRegExp:/[\u0000-\u0040]/gi,hotkeyInfo:{bold:{method:bd},italic:{method:bC},underline:{method:Y},undo:{method:h},redo:{method:cH}},__DB:function(dl){if(dl==null||dl==""){return "";
}else if(typeof dl=="object"){var dm="";

for(var i in dl){dm+=i+" { "+dl[i]+" }";
}return dm;
}else{return dl;
}},__DC:function(dn){var dp={};
var a=dn.split(";");
var i;

for(i=0;i<a.length;i++){var dq=a[i],dr=dq.indexOf(":");

if(dr===-1){continue;
}var name=qx.lang.String.trim(dq.substring(0,dr));
var ds=qx.lang.String.trim(dq.substring(dr+1,dq.length));

if(name&&ds){dp[name]=ds;
}}return dp;
},__DD:function(dt,du,dv,dw){var dB=[];

switch(dt.nodeType){case 1:case 11:var i;
var dz=dt.tagName.toLowerCase();
var dD={};
var dx={};
var closed=(!(dt.hasChildNodes()||qx.bom.htmlarea.HtmlArea.__DE(dt)));

if(du){if((qx.core.Environment.get("engine.name")=="mshtml")){if(dz=="div"&&dt.className&&dt.className=="placeholder"){for(i=dt.firstChild;i;i=i.nextSibling){dB.push(qx.bom.htmlarea.HtmlArea.__DD(i,true,dv,dw));
}return dB.join("");
}}var dC=dt.attributes;
var dA=dC.length;
var a;

if((qx.core.Environment.get("engine.name")=="gecko")){if(dz=="span"&&dA==1&&dC[0].name=="_moz_dirty"&&dt.childNodes.length==0){return "";
}}
for(i=0;i<dA;i++){a=dC[i];
if(!a.specified){continue;
}var name=qx.dom.Node.getName(a);
var dE=a.nodeValue;
if(/(_moz|contenteditable)/.test(name)){continue;
}
if(name!="style"){if(qx.core.Environment.get("engine.name")=="mshtml"){if(name=="id"&&dt.getAttribute("old_id")){dE=dt.getAttribute("old_id");
}else if(!isNaN(dE)){dE=dt.getAttribute(name);
}else{dE=a.nodeValue;
}}else{dE=a.nodeValue;
}}else{dE=dt.style.cssText;
}
if(/(_moz|^$)/.test(dE)){continue;
}if(name=="old_id"){continue;
}if(!dE){continue;
}if(name=="id"&&dE=="__elementToFocus__"){continue;
}if(name.charAt(0)==="$"){continue;
}dD[name]=dE;
}if(dD.style!==undefined){dx=qx.bom.htmlarea.HtmlArea.__DC(dD.style);
delete dD.style;
}if(dw){var dy={domElement:dt,tag:dz,attributes:dD,styles:dx};
dw(dy);
dy.domElement=null;
dz=dy.tag;
}if(dz){dB.push("<",dz);
for(var name in dD){var dE=dD[name];
dB.push(" ",name,'="',dE.toString().replace(new RegExp('"',"g"),"'"),'"');
}if(!qx.lang.Object.isEmpty(dx)){dB.push(' style="');

for(var name in dx){var dE=dx[name];
dB.push(name,":",dE.toString().replace(new RegExp('"',"g"),"'"),";");
}dB.push('"');
}dB.push(closed?" />":">");
}}for(i=dt.firstChild;i;i=i.nextSibling){dB.push(qx.bom.htmlarea.HtmlArea.__DD(i,true,dv,dw));
}if(du&&!closed&&dz){dB.push("</",dz,">");
}break;
case 3:dB.push(dv?dt.data:qx.bom.htmlarea.HtmlArea.__DF(dt.data));
break;
case 8:dB.push("<!--",dt.data,"-->");
break;
}return dB.join("");
},closingTags:cQ,__DE:function(dF){return (qx.bom.htmlarea.HtmlArea.closingTags.indexOf(" "+dF.tagName+" ")!=-1);
},__DF:function(s){s=s.replace(/&/ig,"&amp;");
s=s.replace(/</ig,"&lt;");
s=s.replace(/>/ig,"&gt;");
s=s.replace(/\x22/ig,"&quot;");
s=s.replace(/\xA9/ig,"&copy;");
return s;
},isBlockNode:function(dG){var dH=qx.bom.htmlarea.HtmlArea.isBlockNode;
var dI=bG;
qx.log.Logger.deprecatedMethodWarning(dH,dI);
return qx.dom.Node.isBlockNode(dG);
},isParagraphParent:function(dJ){if(!qx.dom.Node.isElement(dJ)){return false;
}dJ=qx.dom.Node.getName(dJ);
return /^(body|td|th|caption|fieldset|div)$/.test(dJ);
},isHeadlineNode:function(dK){if(!qx.dom.Node.isElement(dK)){return false;
}var dL=qx.dom.Node.getName(dK);
return /^h[1-6]$/.test(dL);
}},properties:{contentType:{check:S,init:bA},messengerMode:{check:cq,init:false},insertParagraphOnLinebreak:{check:cq,init:true},insertLinebreakOnCtrlEnter:{check:cq,init:true},postProcess:{check:v,nullable:true,init:null},useUndoRedo:{check:cq,init:true},nativeContextMenu:{check:cq,init:false},defaultFontFamily:{check:S,init:cJ},defaultFontSize:{check:co,init:4}},members:{__hE:null,__cX:false,__DG:false,__DH:false,__DI:false,__DJ:false,__DA:null,__DK:null,__DL:null,__DM:null,__yj:null,__Dz:null,__DN:null,__DO:null,__DP:false,__DQ:false,__DR:function(dM){if(qx.dom.Node.isElement(dM)&&qx.dom.Node.isNodeName(dM,"div")){this.__hE=dM;
}},_createAndAddIframe:function(dN){this.__yj=qx.bom.Iframe.create();
qx.bom.Iframe.setSource(this.__yj,dN);
if((qx.core.Environment.get(cy)==cw)){qx.bom.element.Attribute.set(this.__yj,bn,ch);
}else{qx.bom.element.Style.set(this.__yj,bi,bo);
}qx.bom.element.Style.setStyles(this.__yj,{width:cb,height:cb});
qx.dom.Element.insertBegin(this.__yj,this.__hE);
},_getIframeDocument:function(){return qx.bom.Iframe.getDocument(this.__yj);
},_getIframeWindow:function(){return qx.bom.Iframe.getWindow(this.__yj);
},_addIframeLoadListener:function(){qx.event.Registration.addListener(this.__yj,p,this._loaded,this);
},__DS:function(){this.__DN={"xhtml":{doctype:'<!'+'DOCTYPE html PUBLIC "-/'+'/W3C/'+'/DTD XHTML 1.0 Transitional/'+'/EN" "http:/'+'/www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">',html:'<html xmlns="http:/'+'/www.w3.org/1999/xhtml" xml:lang="en" lang="en">',meta:'<title></title><meta http-equiv="Content-type" content="text/html; charset=UTF-8" />',style:qx.core.Environment.select("engine.name",{"mshtml":'html { margin:0px; padding:0px; } '+'body { font-size: 100.01%; font-family:Verdana, Geneva, Arial, Helvetica, sans-serif; width:100%; height:100%; background-color:transparent; overflow:auto; background-image:none; margin:0px; padding:5px; } ',"default":'html { width:100%; height:100%; margin:0px; padding:0px; overflow-y:auto; overflow-x:auto; } '+'body { font-size:100.01%; font-family:Verdana, Geneva, Arial, Helvetica, sans-serif; background-color:transparent; overflow:visible; background-image:none; margin:0px; padding:5px; } '}),contentStyle:'p { margin:0px; padding:0px; }',body:'<body>',footer:'</body></html>'}};
},__vJ:cx,getIframeObject:function(){return this.__yj;
},getCommandManager:function(){return this.__DA;
},setValue:function(dO){if(qx.lang.Type.isString(dO)){this.__vJ=dO;
var dP=this._getIframeDocument();

if(dP&&dP.body){dP.body.innerHTML=this.__DT(dO);
}}},__DT:function(dQ){var dT="";

if((qx.core.Environment.get("engine.name")=="gecko")){if(qx.core.Environment.get("browser.version")<=2){dT+='<br _moz_editor_bogus_node="TRUE" _moz_dirty=""/>';
}}var dU=dQ.length==0?"\ufeff":"";
var dS=qx.core.Environment.get("engine.name")=="gecko"||qx.core.Environment.get("engine.name")=="webkit"?'id="__elementToFocus__"':'';
var dR='<p>'+'<span style="font-family:'+this.getDefaultFontFamily()+'">'+'<font '+dS+' size="'+this.getDefaultFontSize()+'">'+dT+dQ+dU+'</font>'+'</span>'+'</p>';
return dR;
},getValue:function(){return this.__vJ;
},getComputedValue:function(dV){return this.getHtml(dV);
},getCompleteHtml:function(){var dX=this.__DN[this.getContentType()];
var dW=dX.html+cd+dX.meta+da+dX.contentStyle+cW+ca;
dW+=cN+this.__DU()+bc;
dW+=this.getHtml()+cf;
return dW;
},__DU:function(){var eb=["backgroundColor","backgroundImage","backgroundRepeat","backgroundPosition","fontFamily","fontSize","marginTop","marginBottom","marginLeft","marginRight","paddingTop","paddingBottom","paddingLeft","paddingRight"];
var ea=qx.bom.element.Style;
var dY=this.getContentBody();
var ee={};
var ed,ef;
var ec=qx.core.Environment.get("engine.name")=="mshtml"?2:1;

for(var i=0,j=eb.length;i<j;i++){ed=eb[i];
ef=ea.get(dY,ed,ec);

if(ef!==undefined&&ef!=""){ee[ed]=ef;
}}return qx.bom.element.Style.compile(ee);
},getContentDocument:function(){if(this.__cX){return this._getIframeDocument();
}},getContentBody:function(){if(this.__cX){return this._getIframeDocument().body;
}},getContentWindow:function(){if(this.__cX){return this._getIframeWindow();
}},getWords:function(eg){if(!eg){eg=this.getContentBody();
}
if(!eg){return [];
}var ei=eg.cloneNode(true);
var ek=ei.innerHTML;
ek=ek.replace(/>/gi,bl);
ek=ek.replace(/\n/gi,f);
ek=ek.replace(/<!--.*-->/gi,cx);
ei.innerHTML=ek;
var eh=qx.core.Environment.get(cy)==cw||qx.core.Environment.get(cy)==ct?ei.innerText:ei.textContent;
var ej=eh.match(qx.bom.htmlarea.HtmlArea.GetWordsRegExp);
return !ej?[]:ej;
},getWordsWithElement:function(){var en=this.getTextNodes();
var er={};
var i,j,es,eo,em;

for(var i=0,eq=en.length;i<eq;++i){eo=en[i];
es=eo.nodeValue.split(f);

for(var j=0,ep=es.length;j<ep;++j){em=this._cleanupWord(es[j]);

if(em!=null&&em.length>1){if(!er[em]){er[em]=[];
}er[em].push(eo);
}}}return er;
},_cleanupWord:function(et){if(!et){return null;
}return et.replace(qx.bom.htmlarea.HtmlArea.CleanupWordsRegExp,cx);
},getTextNodes:function(){return this._fetchTextNodes(this.getContentBody());
},_fetchTextNodes:function(eu){var ew=[];
var ev;
if(eu.hasChildNodes){for(var i=0;i<eu.childNodes.length;i++){ev=this._fetchTextNodes(eu.childNodes[i]);
qx.lang.Array.append(ew,ev);
}}if(eu.nodeType==3){if(eu.nodeValue.length>1){ew.push(eu);
}}return ew;
},__DV:0,__DW:function(){var ey=this._getIframeDocument();
if(!ey){this.__DV++;

if(this.__DV>5){this.error('cant load HtmlArea. Document is not available. '+ey);
this.fireDataEvent("loadingError");
}else{qx.event.Timer.once(function(){this.__DW();
},this,0);
}}else{this.__DV=0;
this._onDocumentIsReady();
}},_loaded:function(e){if(this.__DH){return;
}
if(this.__DG){this.__DX();
return;
}if((qx.core.Environment.get(cy)==cw)){this.__DW();
}else{this._onDocumentIsReady();
}},isReady:function(){return this.__cX;
},_onDocumentIsReady:function(){var ez=new qx.bom.htmlarea.manager.Command(this);

if(this.getUseUndoRedo()){ez=new qx.bom.htmlarea.manager.UndoRedo(ez,this);
}this.__DH=true;
if((qx.core.Environment.get(cy)==cw)){this.setEditable(true);
}this.__Eb();

if(!(qx.core.Environment.get(cy)==ct)){this.__Ec();
}if(!(qx.core.Environment.get(cy)==cw)){this.setEditable(true);
}this.__cX=true;
this.__DA=ez;
ez.setContentDocument(this._getIframeDocument());
this.__Eh();
if((qx.core.Environment.get(cy)==ct)){this.__Ec();
}this.fireEvent(bg);
},forceEditable:qx.core.Environment.select(cy,{"gecko":function(){var eA=this._getIframeDocument();

if(eA){if(parseFloat(qx.core.Environment.get(bt))>=cg){eA.designMode=b;
eA.body.contentEditable=false;
eA.body.contentEditable=true;
}else{eA.body.contentEditable=true;
this.__Ei(true);
}}},"default":qx.lang.Function.empty}),invalidateEditor:qx.core.Environment.select(cy,{"gecko":function(){this.__DH=false;
this.__cX=false;
this.__DG=true;
},"default":function(){}}),__DX:qx.core.Environment.select("engine.name",{"gecko":function(){this.__Eb();
this.__Ec();
this.__DA.setContentDocument(this._getIframeDocument());
this.setEditable(true);
this.forceEditable();
this.__DH=true;
this.__cX=true;
this.__DG=false;
this.fireEvent("readyAfterInvalid");
},"default":function(){}}),__DY:function(eB){var eD="";

if(!eB){return eD;
}
try{var eC=eB.getAttribute("style");

if(!eC){return eD;
}if((qx.core.Environment.get("engine.name")=="mshtml")){eD=eC.cssText;
}else{eD=eC;
}}catch(eE){this.error("can't extract style from elem. ");
}return eD;
},__Ea:function(eF){var eG=qx.core.Environment.get(cy)==cv?bj:cx;
var eH=this.__DN[this.getContentType()];
var eI=cd+eH.meta+da+eG+eH.style+eH.contentStyle+this.__Dz+cW+ca;
var content=eH.body+eF;
return eH.html+eI+content+eH.footer;
},__Eb:function(){var eK=this.__DT(this.getValue());

if(qx.lang.Type.isString(eK)){var eJ=this._getIframeDocument();

try{eJ.open(bS,true);
eJ.write(this.__Ea(eK));
eJ.close();
}catch(e){this.error("cant open document on source '"+qx.bom.Iframe.queryCurrentUrl(this.__yj)+"'",e);
this.fireDataEvent(K,e);
}}},__Ec:function(){this.__Ed();
this.__Ef();
this.__Ee();
},__Ed:function(){var eM=qx.event.Registration;
var eL=this._getIframeDocument();
eM.addListener(eL.body,d,this._handleKeyPress,this);
eM.addListener(eL.body,R,this._handleKeyUp,this);
eM.addListener(eL.body,cz,this._handleKeyDown,this);
},__Ee:function(){var eP=qx.event.Registration;
var eN=this._getIframeDocument();
var eO=qx.core.Environment.get(cy)==cu?this._getIframeWindow():eN.body;
eP.addListener(eO,cU,this._handleFocusEvent,this);
eP.addListener(eO,dd,this._handleBlurEvent,this);
eP.addListener(eN,L,this._handleFocusOutEvent,this);
},__Ef:function(){var eS=qx.event.Registration;
var eR=this._getIframeDocument();
var eQ=qx.core.Environment.get(cy)==cw?db:bY;
eS.addListener(eR.body,eQ,this._handleMouseUpOnBody,this);
eS.addListener(eR.documentElement,eQ,this._handleMouseUpOnDocument,this);
eS.addListener(eR.documentElement,cE,this._handleContextMenuEvent,this);
},__Eg:function(){if(this.__DK==null){this.__DK={execute:function(eT,eU){this.stackedCommands=true;
this.commandStack.push({command:eT,value:eU});
},commandStack:[],stackedCommands:false};
}this.__DK.stackedCommands=false;
return this.__DK;
},__Eh:function(){var eV=this.__DK;

if(eV!=null&&eV.stackedCommands){var eW=eV.commandStack;

if(eW!=null){for(var i=0,j=eW.length;i<j;i++){this.__DA.execute(eW[i].command,eW[i].value);
}}}},__Ei:function(eX){var eY=this._getIframeDocument();

if(this.__DH&&eY){try{if((qx.core.Environment.get(cy)==cv)){eY.designMode=(eX!==false)?bT:cA;
}eY.designMode=(eX!==false)?cA:bT;
}catch(e){}}},setEditable:function(fa){if(this.__DH){this.__Ei(true);
if((qx.core.Environment.get(cy)==cv)){try{var fb=this._getIframeDocument();
fb.execCommand(bm,false,true);
}catch(fc){try{var fb=this._getIframeDocument();
fb.execCommand(bK,false,false);
}catch(fd){if(!this.__cX){this.error("Failed to enable rich edit functionality");
this.fireDataEvent(K,fd);
}else{throw new Error("Failed to enable rich edit functionality");
}}}}this.__DI=fa;
}},getEditable:function(){return this.__DI;
},isEditable:function(){return this.__DI;
},__Ej:false,_handleKeyUp:function(e){var fe=e.getKeyIdentifier().toLowerCase();
this.__DL=e;

if((false)&&qx.core.Environment.get(bv)){this.debug(e.getType()+" | "+fe);
}if(qx.core.Environment.get(cy)==cw||qx.core.Environment.get(cy)==cu){if(this.__Ej){switch(fe){case cp:if(this.getInsertLinebreakOnCtrlEnter()){if((qx.core.Environment.get(cy)==cu)){this.__Ek();
e.preventDefault();
e.stopPropagation();
}else{var ff=this.__Eu(this.getSelection());

if(ff){ff.collapse(true);
ff.pasteHTML(ce);
}}this.__Ep();
}break;
case P:this.__Ej=false;
return;
break;
}}}else if((qx.core.Environment.get(cy)==cv)){switch(fe){case bu:case bx:case cY:case bX:case cB:case k:case M:case cC:case bW:this.__DJ=(this.getFocusNode()==this.getContentBody().firstChild);
break;
}}},__Ek:function(){var fg=this.getSelection();
var fh=cx;
if(fg&&(fg.focusNode.textContent==cx||fg.focusNode.parentElement.tagName==bH)){fh=t;
}this.__DA.execute(bs,fh+qx.bom.htmlarea.HtmlArea.simpleLinebreak);
},_handleKeyDown:qx.core.Environment.select(cy,{"mshtml|webkit":function(e){var fi=e.getKeyIdentifier().toLowerCase();

if((false)&&qx.core.Environment.get(bv)){}if(this.__Ej&&(fi==x||fi==bU||fi==cD||fi==cV||fi==cI||fi==T)){e.preventDefault();
e.stopPropagation();
}if(fi==P){this.__Ej=true;
}},"default":function(e){}}),_handleKeyPress:function(e){var fn=this.getContentDocument();
var fj=e.getKeyIdentifier().toLowerCase();
var fl=e.isCtrlPressed();
var fm=e.isShiftPressed();
this.__DL=e;

if((false)&&qx.core.Environment.get(bv)){this.debug(e.getType()+" | "+fj);
}if(this.__DP){var ft=!((qx.core.Environment.get(cy)==cw)&&fj==cp)||!((qx.core.Environment.get(cy)==cv)&&fj==cp);

if(ft){this.__Ep();
this.__DP=false;
}}
switch(fj){case cp:if(!fm&&!fl&&this.getMessengerMode()){e.preventDefault();
e.stopPropagation();
this.fireDataEvent(ci,this.getComputedValue());
this.resetHtml();
}if(fl){if(!this.getInsertLinebreakOnCtrlEnter()){return;
}e.preventDefault();
e.stopPropagation();

if((qx.core.Environment.get(cy)==cv)){if(this.__Es()){this.insertHtml(bL);
this.__Ep();
return;
}this.insertHtml(ba);
}else if((qx.core.Environment.get(cy)==ct)){var fs=this.getSelection();
var fo=this.__Eu(fs);

if(fs&&fo){var fp=fn.createElement(cG);
fo.collapse(true);
fo.insertNode(fp);
fo.collapse(true);
fo.selectNode(fp);
fs.addRange(fo);
fo.collapse(true);
}}this.__Ep();
}if((qx.core.Environment.get(cy)==cw)){if(!this.getInsertParagraphOnLinebreak()){if(this.__DA.execute(bs,qx.bom.htmlarea.HtmlArea.simpleLinebreak)){this.__Ep();
e.preventDefault();
e.stopPropagation();
}}}else if((qx.core.Environment.get(cy)==cv)){if(this.getInsertParagraphOnLinebreak()&&!fm&&!fl){var fs=this.getSelection();

if(fs){var fk=fs.focusNode;
if(this.__Es()){this.__Ep();
return;
}if(this.__Et()){this.__Ep();
return;
}while(!qx.dom.Node.isNodeName(fk,bp)){if(qx.dom.Node.isNodeName(fk,z)){this.__Ep();
return;
}fk=fk.parentNode;
}}this.__DA.insertParagraphOnLinebreak();
e.preventDefault();
e.stopPropagation();
this.__Ep();
this.__DP=true;
}}else if((qx.core.Environment.get(cy)==cu)){if(this.getInsertParagraphOnLinebreak()&&fm){this.__Ek();
e.preventDefault();
e.stopPropagation();
this.__Ep();
}}break;
case cY:if(qx.core.Environment.get(cy)==cv&&qx.core.Environment.get(bt)<1.9&&fm){var fs=this.getSelection();
if(fs&&fs.focusNode==fn.body.firstChild){if(this.__DJ){if(fs.focusOffset!=0){fs.extend(fs.focusNode,0);
}}}}this.__Ep();
break;
case u:if(qx.core.Environment.get(cy)==cv&&qx.core.Environment.get(bt)<1.9){if(fl){var fs=this.getSelection();
if(fm){if(fs&&(fs.focusOffset!=0)||(fs.focusNode!=fn.body.firstChild)){fs.extend(fn.body.firstChild,0);
}}else{var fq=null;
var fr;
if(fn){fq=fn.evaluate(D,fn.body,null,XPathResult.ANY_TYPE,null);
}
if(fq&&fs){while(fr=fq.iterateNext()){if(fr&&fr.parentNode&&fr.parentNode.tagName!=bQ){try{fs.extend(fr,0);

if(!this.isSelectionCollapsed()){fs.collapseToStart();
}}catch(e){}break;
}}}}}}this.__Ep();
break;
case bu:case bx:case bX:case cB:case k:case M:case cC:case bW:this.__Ep();
break;
case cD:if(fl){this.__El(V,true);
}break;
case cI:case T:if(fl){this.__El(bP,true);
}break;
case cV:if(fl){this.__El(U,true);
}break;
case x:if(fl&&!fm){this.__El(y,true);
}else if(fl&&fm){this.__El(cc,true);
}break;
case bU:if(fl){this.__El(cc,true);
}break;
case A:if(fl){this.selectAll();
}break;
}this.__DL=null;
},__El:function(fu,fv){var fx=null;
var fw=qx.bom.htmlarea.HtmlArea.hotkeyInfo;

if(fw[fu]){fx=fw[fu].method;
}
if(fx!=null&&this[fx]){this[fx]();

if(fv){this.__DL.preventDefault();
this.__DL.stopPropagation();
}
if(this.isSelectionCollapsed()){this.__DP=true;
}this.__Ep();
}},_handleFocusEvent:function(e){this.__DM=null;

if(qx.core.Environment.get(cy)==cv||qx.core.Environment.get(cy)==cu){var fy=this.getContentDocument().getElementById(bw);

if(fy){qx.bom.element.Attribute.reset(fy,br);
}}this.fireEvent(q);
},_handleBlurEvent:function(e){this.__vJ=this.getComputedValue();
},_handleFocusOutEvent:function(e){this.__Ej=false;

if(this.__DM==null){this.__DM=this.getSelectedHtml();
}this.fireEvent(bz);
},_handleMouseUpOnBody:function(e){if((false)&&qx.core.Environment.get(bv)){this.debug("handleMouse "+e.getType());
}this.__DQ=true;
this.__Ep();
},_handleMouseUpOnDocument:qx.core.Environment.select(cy,{"mshtml":qx.lang.Function.empty,"default":function(e){if(!this.__DQ){qx.bom.Element.activate(this.getContentBody());
}this.__DQ=false;
}}),_handleContextMenuEvent:function(e){if(!this.getNativeContextMenu()){var fB=e.getViewportLeft();
var fA=e.getViewportTop();
var fC=qx.bom.element.Location.getLeft(this.__hE)+fB;
var fD=qx.bom.element.Location.getTop(this.__hE)+fA;
var fz={x:fC,y:fD,relX:fB,relY:fA,target:e.getTarget()};
e.preventDefault();
e.stopPropagation();
qx.event.Timer.once(function(){this.fireDataEvent(cE,fz);
},this,0);
}},isLoaded:function(){return this.__DH;
},insertHtml:function(fE){return this.__DA.execute(bs,fE);
},removeFormat:function(){var fF=this.__DA.execute(I);
this.__DA.execute(g,this.getDefaultFontSize());
this.__DA.execute(Q,this.getDefaultFontFamily());
return fF;
},setBold:function(){return this.__DA.execute(bV);
},setItalic:function(){return this.__DA.execute(bq);
},setUnderline:function(){return this.__DA.execute(cF);
},setStrikeThrough:function(){return this.__DA.execute(bR);
},setFontSize:function(fG){return this.__DA.execute(g,fG);
},setFontFamily:function(fH){return this.__DA.execute(Q,fH);
},setTextColor:function(fI){return this.__DA.execute(B,fI);
},setTextBackgroundColor:function(fJ){return this.__DA.execute(r,fJ);
},setJustifyLeft:function(){return this.__DA.execute(bE);
},setJustifyCenter:function(){return this.__DA.execute(bJ);
},setJustifyRight:function(){return this.__DA.execute(cR);
},setJustifyFull:function(){return this.__DA.execute(bN);
},insertIndent:function(){return this.__DA.execute(cj);
},insertOutdent:function(){return this.__DA.execute(cL);
},insertOrderedList:function(){return this.__DA.execute(bk);
},insertUnorderedList:function(){return this.__DA.execute(cl);
},insertHorizontalRuler:function(){return this.__DA.execute(E);
},insertImage:function(fK){return this.__DA.execute(cK,fK);
},insertHyperLink:function(fL){return this.__DA.execute(bO,fL);
},removeBackgroundColor:function(){this.__DA.execute(o,bb);
},setBackgroundColor:function(fM){this.__DA.execute(o,fM);
},removeBackgroundImage:function(){this.__DA.execute(cT);
},setBackgroundImage:function(fN,fO,fP){return this.__DA.execute(cT,[fN,fO,fP]);
},selectAll:function(){return this.__DA.execute(cP);
},undo:function(){if(this.getUseUndoRedo()){return this.__DA.execute(h);
}else{return true;
}},redo:function(){if(this.getUseUndoRedo()){return this.__DA.execute(cH);
}else{return true;
}},resetHtml:function(){var fQ=this._getIframeDocument();
while(fQ.body.firstChild){fQ.body.removeChild(fQ.body.firstChild);
}if(qx.core.Environment.get(cy)==cv){fQ.body.innerHTML=bh;
}else if(qx.core.Environment.get(cy)==cu){var fR=this.getSelection();
var fS=fQ.createRange();

if(fS&&fR){fR.addRange(fS);
}}},getHtml:function(fT){var fU=this._getIframeDocument();

if(fU==null){return null;
}return qx.bom.htmlarea.HtmlArea.__DD(fU.body,false,fT,this.getPostProcess());
},containsOnlyPlaceholder:qx.core.Environment.select(cy,{"mshtml":function(){var fV=this._getIframeDocument();
return (fV.body.innerHTML==H);
},"default":qx.lang.Function.returnFalse}),_selectElement:function(fW){var fY=this.getContentWindow().getSelection();
var fX=this.getContentDocument().createRange();
fX.setStart(fW,0);
fY.removeAllRanges();
fY.addRange(fX);
},focusContent:qx.core.Environment.select(cy,{"gecko":function(){var gb=this.getContentDocument();
var ga=gb.getElementById(bw);
this.getContentWindow().focus();
qx.bom.Element.focus(this.getContentBody());

if(ga){this._selectElement(ga);
}else{this.__Em();
}},"webkit":function(){qx.bom.Element.focus(this.getContentWindow());
qx.bom.Element.focus(this.getContentBody());
var gc=this.getContentDocument().getElementById(bw);

if(gc){qx.bom.element.Attribute.reset(gc,br);
}this.__Em();
},"opera":function(){qx.bom.Element.focus(this.getContentWindow());
qx.bom.Element.focus(this.getContentBody());
this.__Em();
},"default":function(){qx.bom.Element.focus(this.getContentBody());
this.__Em();
}}),__Em:function(){if(!this.__En()){this.__Eo();
}},__En:qx.core.Environment.select(cy,{"gecko":function(){var gd=this.getContentBody().childNodes;

if(gd.length==0){return false;
}else if(gd.length==1){return !(gd[0]&&qx.dom.Node.isNodeName(gd[0],cG)&&qx.bom.element.Attribute.get(gd[0],cn)!=null);
}else{return true;
}},"webkit":function(){var ge=this.getContentBody().childNodes;

if(ge.length==0){return false;
}else if(ge.length==1){return !(ge[0]&&qx.dom.Node.isNodeName(ge[0],cG));
}else{return true;
}},"default":function(){var gf=this.getContentBody().childNodes;

if(gf.length==0){return false;
}else if(gf.length==1){return !(gf[0]&&qx.dom.Node.isNodeName(gf[0],m)&&gf[0].firstChild==null);
}else{return true;
}}}),__Eo:qx.core.Environment.select(cy,{"gecko|webkit":function(){this.getContentDocument().body.innerHTML=this.__DT(cx);
var gg=this.getContentDocument().getElementById(bw);
qx.bom.element.Attribute.reset(gg,br);
this._selectElement(gg);
},"default":function(){var gh=qx.dom.Hierarchy.getFirstDescendant(this.getContentBody());

if(qx.dom.Node.isNodeName(gh,m)){qx.bom.element.Style.set(gh,c,this.getDefaultFontFamily());
qx.bom.element.Style.set(gh,dc,this.getDefaultFontSize());
}}}),getContextInformation:function(){return this.__Eq();
},__Ep:function(){qx.event.Timer.once(function(e){var gi=this.__Eq();
this.fireDataEvent(J,gi);
},this,200);
},__Eq:function(){if(this._processingExamineCursorContext||this.getEditable()==false){return;
}this._processingExamineCursorContext=true;

if(!this.__En()){this.__Eo();
}var gm=this.getFocusNode();

if(gm==null){return;
}
if(qx.dom.Node.isText(gm)){gm=gm.parentNode;
}var gq=this._getIframeDocument();
var gz=(qx.core.Environment.get(cy)==cw)?gm.currentStyle:gq.defaultView.getComputedStyle(gm,null);
var gt=false;
var gj=false;
var go=false;
var gn=false;
var gu=false;
var gy=false;
var gp=false;
var gA=false;
var gl=false;
var gw=false;
var gx=null;
var gB=null;
var gs=null;

if(gz!=null){if((qx.core.Environment.get(cy)==cw)){gj=gz.fontStyle==bq;
go=gz.textDecoration.indexOf(cF)!==-1;
gn=gz.textDecoration.indexOf(N)!==-1;
gx=gz.fontSize;
gs=gz.fontFamily;
gp=gz.textAlign==bu;
gA=gz.textAlign==n;
gl=gz.textAlign==bx;
gw=gz.textAlign==l;
}else{gj=gz.getPropertyValue(bB)==bq;
go=gz.getPropertyValue(cX).indexOf(cF)!==-1;
gn=gz.getPropertyValue(cX).indexOf(N)!==-1;
gx=gz.getPropertyValue(dc);
gs=gz.getPropertyValue(c);
gp=gz.getPropertyValue(by)==bu;
gA=gz.getPropertyValue(by)==n;
gl=gz.getPropertyValue(by)==bx;
gw=gz.getPropertyValue(by)==l;
}
if(qx.core.Environment.get(cy)==cw||qx.core.Environment.get(cy)==ct){gt=gz.fontWeight==700;
}else{gt=gz.getPropertyValue(bI)==bV||qx.dom.Node.isNodeName(gm,cD);
}}var gk=gm;
if(gk!=null&&gk.parentNode!=null&&!qx.dom.Node.isDocument(gk.parentNode)){while(gk!=null&&!qx.dom.Node.isNodeName(gk,bp)){var gr=qx.dom.Node.getName(gk);

if(gr==cS){gy=true;
break;
}else if(gr==W){gu=true;
break;
}
if(gB==null||gB==cx){gB=qx.bom.element.Attribute.get(gk,bD);
}gk=gk.parentNode;
}}var gv={bold:gt?1:0,italic:gj?1:0,underline:go?1:0,strikethrough:gn?1:0,fontSize:(gB==null)?gx:gB,fontFamily:gs,insertUnorderedList:gu?1:0,insertOrderedList:gy?1:0,justifyLeft:gp?1:0,justifyCenter:gA?1:0,justifyRight:gl?1:0,justifyFull:gw?1:0};
this._processingExamineCursorContext=false;
return gv;
},getSelection:qx.core.Environment.select(cy,{"mshtml":function(){return this._getIframeDocument()?this._getIframeDocument().selection:null;
},"default":function(){return this._getIframeWindow()?this._getIframeWindow().getSelection():null;
}}),isSelectionCollapsed:qx.core.Environment.select(cy,{"mshtml":function(){return this.getSelection()&&this.getSelection().type==O;
},"default":function(){return this.getSelection()&&this.getSelection().isCollapsed;
}}),getSelectedText:qx.core.Environment.select(cy,{"mshtml":function(){return this.getRange()?this.getRange().text:cx;
},"default":function(){return this.getRange()?this.getRange().toString():cx;
}}),getSelectedHtml:function(){if(this.__DM!=null){return this.__DM;
}var gC=this.getRange();

if(!gC){return cx;
}else{return this.__Er(gC);
}},__Er:qx.core.Environment.select(cy,{"mshtml":function(gD){if(!gD){return cx;
}return gD.item?gD.item(0).outerHTML:gD.htmlText;
},"default":function(gE){var gF=this._getIframeDocument();

if(gF&&gE){try{var gG=gF.createElement(bp);
gG.appendChild(gE.cloneContents());
return gG.innerHTML;
}catch(gH){}return gE+cx;
}return cx;
}}),clearSelection:qx.core.Environment.select(cy,{"mshtml":function(){var gI=this.getSelection();

if(gI){gI.empty();
}},"default":function(){var gJ=this.getSelection();

if(gJ){gJ.collapseToStart();
}}}),__Es:qx.core.Environment.select(cy,{"gecko":function(){var gK=this.getSelection();
var gL=this.getFocusNode();
return gK&&this.isSelectionCollapsed()&&gL!=null&&qx.dom.Node.isText(gL)&&gK.anchorOffset<gL.length;
},"default":function(){return false;
}}),__Et:qx.core.Environment.select(cy,{"gecko":function(){return qx.dom.Node.isElement(this.getFocusNode());
},"default":function(){return false;
}}),getRange:function(){return this.__Eu(this.getSelection());
},__Eu:qx.core.Environment.select(cy,{"mshtml":function(gM){var gN=this._getIframeDocument();

if(gM){try{return gM.createRange();
}catch(gO){return gN?gN.body.createTextRange():null;
}}else{return gN?gN.body.createTextRange():null;
}},"default":function(gP){var gQ=this._getIframeDocument();

if(gP){try{return gP.getRangeAt(0);
}catch(gR){return gQ?gQ.createRange():null;
}}else{return gQ?gQ.createRange():null;
}}}),saveRange:qx.core.Environment.select(cy,{"mshtml":function(){this.__DO=this.getRange();
},"default":function(){}}),getSavedRange:qx.core.Environment.select(cy,{"mshtml":function(){return this.__DO;
},"default":function(){}}),resetSavedRange:qx.core.Environment.select(cy,{"mshtml":function(){this.__DO=null;
},"default":function(){}}),getFocusNode:qx.core.Environment.select(cy,{"mshtml":function(){var gS=this.getSelection();
var gT;

switch(gS.type){case ck:case O:gT=this.__Eu(gS);

if(gT){gT.collapse(false);
return gT.parentElement();
}else{return null;
}break;
case bF:gT=this.__Eu(gS);

if(gT){try{gT.collapse(false);
}catch(gU){}return gT.item(0);
}else{return null;
}break;
default:return this._getIframeDocument().body;
}},"default":function(){var gV=this.getSelection();

if(gV&&gV.focusNode){return gV.focusNode;
}return this._getIframeDocument().body;
}})},environment:{"qx.bom.htmlarea.HtmlArea.debug":false},destruct:function(){try{var gX=this._getIframeDocument();
var ha=qx.event.Registration;
ha.removeListener(gX.body,d,this._handleKeyPress,this);
ha.removeListener(gX.body,R,this._handleKeyUp,this);
ha.removeListener(gX.body,cz,this._handleKeyDown,this);
var gY=qx.core.Environment.get(cy)==cu?this._getIframeWindow():gX.body;
ha.removeListener(gY,cU,this._handleFocusEvent);
ha.removeListener(gY,dd,this._handleBlurEvent);
ha.removeListener(gX,L,this._handleFocusOutEvent);
var gW=qx.core.Environment.get(cy)==cw?db:bY;
ha.removeListener(gX.body,gW,this._handleMouseUpOnBody,this);
ha.removeListener(gX.documentElement,gW,this._handleMouseUpOnDocument,this);
ha.removeListener(gX.documentElement,cE,this._handleContextMenuEvent,this);

if((qx.core.Environment.get(cy)==cw)){qx.bom.Iframe.setSource(this.__yj,cM);
}}catch(hb){}
if(this.__DA instanceof qx.core.Object){this._disposeObjects(bf);
}else{this.__DA=null;
}this.__DN=this.__yj=this.__hE=this.__DK=null;
}});
})();
(function(){var m="engine.name",l="mshtml",k="mousedown",h="Command",g="Content",f="table",d="td",c="img",b="Internal",a="gecko",W="mouseup",V="keypress",U="inserthtml",T="Custom",S="undo",R="backgroundColor",Q="pageup",P="b",O="backgroundimage",N="control",t="shift",u="end",r="right",s="qx_link",p="pagedown",q="k",n="home",o="backgroundImage",v="backgroundRepeat",w="a",D="y",B="backgroundPosition",H="redo",F="insertParagraph",J="qx.bom.htmlarea.manager.UndoRedo",I="left",y="i",M="backgroundcolor",L="u",K="inserthyperlink",x="enter",z="webkit",A="z",C="down",E="__DA",G="up";
qx.Class.define(J,{extend:qx.core.Object,construct:function(X,Y){qx.core.Object.call(this);
this.__DA=X;
this.__Ev=Y;
this.__Fm=[];
this.__Fn=[];
this._commands=null;
this.__nO=null;
this.__Fo={};
this.__Fp={command:true,content:true,custom:true};
this.__EC();
this.__Fq=qx.lang.Function.bind(this._handleKeyPress,this);
this.__Fr=qx.lang.Function.bind(this._handleMouseUp,this);

if((qx.core.Environment.get(m)==l)){this.__Fs=qx.lang.Function.bind(this._handleMouseDown,this);
}},members:{__Ft:false,__Fu:false,__Fv:false,__Fp:null,__Fo:null,__DA:null,__nO:null,__Fm:null,__Fn:null,__Ev:null,__Fq:null,__Fr:null,__Fs:null,__Fw:null,setContentDocument:function(ba){this.__nO=ba;
this.__DA.setContentDocument(ba);
qx.event.Registration.addListener(ba.body,V,this.__Fq,this);
qx.event.Registration.addListener(ba.body,W,this.__Fr,this);

if((qx.core.Environment.get(m)==l)){qx.event.Registration.addListener(ba.body,k,this.__Fs,this,true);
}},insertParagraphOnLinebreak:function(){return this.__DA.insertParagraphOnLinebreak();
},execute:function(bb,bc){var bd;
bb=bb.toLowerCase();
if(this._commands[bb]){if(this._commands[bb].passthrough){bd=this.__DA.execute(bb,bc);
}else{bd=this[bb].call(this);
}}else{if((qx.core.Environment.get(m)==l)||(qx.core.Environment.get(m)==z)){this.__FN(bb,bc,this.__DA.getCommandObject(bb));
bd=this.__DA.execute(bb,bc);
if(!bd){this.__Fm.pop();
}}else{bd=this.__DA.execute(bb,bc);

if(bd){this.__FN(bb,bc,this.__DA.getCommandObject(bb));
}}
if(bb==S&&this.__Fm.length==0){this.__Fu=false;
this.__FV();
}else if(bb==H&&this.__Fn.length==0){this.__Ft=false;
this.__FV();
}}this.__Fv=false;
return bd;
},addUndoStep:function(be,bf,bg){this.__FN(be,bf,bg);
},registerHandler:function(bh,bi,bj,bk){this.__Fo[bh]={undo:bi,redo:bj,context:bk};
},isUndoPossible:function(){return this.__Fu;
},undo:function(){var bn;

if(this.__Fv){this.__FP();
}if(this.__Fm.length>0){var bm=this.__Fm.pop();

if(this.__Fp[bm.actionType.toLowerCase()]){switch(bm.actionType){case h:bn=this.__Fy(bm);
break;
case g:bn=this.__FC(bm);
break;
case b:bn=this.__FB(bm);
break;
case T:bn=this.__Fx(bm);
break;
}}else if(this.__Fo[bm.actionType]){var bl=this.__Fo[bm.actionType];
bn=bl.undo.call(bl.context?bl.context:this,bm);
this.__FR(bm);
}else{this.error("actionType "+bm.actionType+" is not managed! Please provide a handler method!");
}this.__Ft=true;
this.__FV();
return bn;
}},__Fx:qx.core.Environment.select(m,{"mshtml|webkit":function(bo){var bp=this.__nO.body.innerHTML;
var br=bo.content;
this.__nO.body.innerHTML=br;
var bq=bo;
bq.content=bp;
this.__FR(bq);
return true;
},"default":function(bs){var bw=bs;
var bv=qx.bom.element.Style;
switch(bs.command){case M:bw.parameter=[bv.get(this.__nO.body,R)];
break;
case O:bw.parameter=[bv.get(this.__nO.body,o),bv.get(this.__nO.body,v),bv.get(this.__nO.body,B)];
break;
}this.__FR(bw);
if(bs.command==K){if((qx.core.Environment.get(m)==a)){var bu=s+this.__DA.__hyperLinkId;
var bt=this.__nO.getElementById(bu);

if(bt){bt.parentNode.removeChild(bt);
return true;
}else{return false;
}}}else{return this.__DA.execute(bs.command,bs.value);
}}}),__Fy:qx.core.Environment.select(m,{"mshtml|webkit":function(bx){},"default":function(by){this.__FR(by);

if((qx.core.Environment.get(m)==a)){if(by.command==U&&by.value==qx.bom.htmlarea.HtmlArea.EMPTY_DIV&&this.__Fz(U,F)){this.__FA();
}}return this.__FD();
}}),__Fz:function(bz,bA){if(this.__Fm.length>0){var bB=this.__Fm[this.__Fm.length-1];
return (bB.command==bz&&bB.value==bA);
}return false;
},__FA:function(){this.__FD();

if(this.__Fm.length>0){var bC=this.__Fm.pop();
this.__FR(bC);
}},__FB:function(bD){this.__FR(bD);
return this.__FD();
},__FC:qx.core.Environment.select("engine.name",{"gecko":function(bE){this.__FR(bE);

try{return this.__FD();
}catch(bF){}},"mshtml|webkit":function(bG){},"default":function(bH){this.__FR(bH);
return this.__FD();
}}),__FD:function(){try{return this.__nO.execCommand("Undo",false,null);
}catch(e){return false;
}},isRedoPossible:function(){return this.__Ft;
},redo:function(){if(this.__Ft){var bJ;
if(this.__Fn.length>0){var bK=this.__Fn.pop();

if(this.__Fp[bK.actionType.toLowerCase()]){switch(bK.actionType){case h:bJ=this.__FF(bK);
break;
case g:bJ=this.__FL(bK);
break;
case b:bJ=this.__FK(bK);
break;
case T:bJ=this.__FE(bK);
break;
}}else if(this.__Fo[bK.actionType]){var bI=this.__Fo[bK.actionType];
bJ=bI.redo.call(bI.context?bI.context:this,bK);
this.__FQ(bK);
}else{this.error("actionType "+bK.actionType+" is not managed! Please provide a handler method!");
}this.__Fu=true;
this.__FV();
}return bJ;
}},__FE:qx.core.Environment.select("engine.name",{"mshtml|webkit":function(bL){var bM=this.__nO.body.innerHTML;
var bO=bL.content;
this.__nO.body.innerHTML=bO;
var bN=bL;
bN.content=bM;
this.__FQ(bN);
return true;
},"default":function(bP){this.__FQ(bP);
return this.__FM();
}}),__FF:qx.core.Environment.select("engine.name",{"mshtml|webkit":function(bQ){},"default":function(bR){this.__FQ(bR);
var bS=this.__FM();

if((qx.core.Environment.get("engine.name")=="gecko")){if(this.__FG("inserthtml",qx.bom.htmlarea.HtmlArea.EMPTY_DIV)){var bT=this.__FH();
this.__FI();

if(bT!=null){this.__FJ(bT);
}}}return bS;
}}),__FG:function(bU,bV){if(this.__Fn.length>0){var bW=this.__Fn[this.__Fn.length-1];
return (bW.command==bU&&bW.value==bV);
}return false;
},__FH:function(){if(this.__Ev==null){return null;
}var bX=this.__Ev.getSelection();
var bY=bX?bX.focusNode:null;

if(bY==null){return null;
}
try{while(bY.nodeName.toLowerCase()!="p"){bY=bY.parentNode;

if(!bY||qx.dom.Node.isNodeName(bY,"body")){return null;
}}}catch(ca){return null;
}
if(bY!=null&&qx.dom.Node.isNodeName(bY,"p")){return bY;
}else{return null;
}},__FI:function(){var cb=this.__Fn.pop();
this.__FQ(cb);
this.__FM();
},__FJ:qx.core.Environment.select("engine.name",{"gecko":function(cc){if(cc==this.__Ev.getContentBody().lastChild){return;
}var cf=cc.firstChild;

while(cf.firstChild){cf=cf.firstChild;
}var cd=this.__Ev.getSelection();
var ce=this.__Ev.getRange();

if(cd&&ce){ce.selectNode(cf);
cd.addRange(ce);
ce.collapse(true);
}},"default":qx.lang.Function.empty}),__FK:function(cg){this.__FQ(cg);
return this.__FM();
},__FL:qx.core.Environment.select("engine.name",{"mshtml|webkit":function(ch){},"default":function(ci){this.__FQ(ci);
return this.__FM();
}}),__FM:function(){try{return this.__nO.execCommand("Redo",false,null);
}catch(e){return false;
}},__EC:function(){this._commands={undo:{passthrough:false},redo:{passthrough:false}};
this.__DA.getCommandObject("backgroundcolor").customUndo=true;
this.__DA.getCommandObject("backgroundimage").customUndo=true;

if((qx.core.Environment.get("engine.name")=="gecko")){}},__FN:qx.core.Environment.select("engine.name",{"mshtml|webkit":function(cj,ck,cl){var cm=this.getUndoRedoObject();
cm.commandObject=cl;
cm.command=cj;
cm.value=ck;
cm.actionType="Custom";
cm.content=this.__nO.body.innerHTML;
this.__FO(cm);
},"default":function(cn,co,cp){if(this.__Ev==null){return;
}var cr=this.getUndoRedoObject();
cr.commandObject=cp;
cr.command=cn;
cr.value=co;
cr.actionType="Custom";
var cq=this.__Ev.getSelection();

if(cp.customUndo){var cs=[];

switch(cn){case "backgroundcolor":cs.push(qx.bom.element.Style.get(this.__nO.body,"backgroundColor"));
break;
case "backgroundimage":cs.push(qx.bom.element.Style.get(this.__nO.body,"backgroundImage"),qx.bom.element.Style.get(this.__nO.body,"backgroundRepeat"),qx.bom.element.Style.get(this.__nO.body,"backgroundPosition"));
break;
case "inserthyperlink":if(cq&&!cq.isCollapsed){cr.actionType="Command";
}break;
}cr.parameter=cs;
}else{if((qx.core.Environment.get("engine.name")=="gecko")){if(cq&&cq.isCollapsed){switch(cn){case "insertorderedlist":case "insertunorderedlist":case "justifyright":case "inserthtml":case "insertimage":cr.actionType="Command";
break;
default:return;
}}else{cr.actionType="Command";
}}else{cr.actionType="Command";
}}this.__FO(cr);
}}),__FO:function(ct){if(this.__Fv){this.__FP();
}this.__FQ(ct);
this.__Ft=false;
this.__Fn=[];
this.__FV();
},__FP:function(){var cu=this.__Fm[this.__Fm.length-1];

if(cu==null||cu.actionType!="Content"){var cv=this.getUndoRedoObject();
cv.actionType="Content";

if((qx.core.Environment.get("engine.name")=="mshtml")||(qx.core.Environment.get("engine.name")=="webkit")){cv.content=this.__Fw;
cv.actionType="Custom";
this.__Fw=null;
}this.__FQ(cv);
this.__Fv=false;
}},getUndoRedoObject:function(){return {actionType:null,commandObject:null,command:null,value:null,parameter:null,range:null,marker:null,content:null};
},__FQ:function(cw){if((false)&&qx.core.Environment.get("qx.bom.htmlarea.HtmlArea.debug")){this.debug("ADD TO UNDO STACK");
this.debug(cw.actionType+" "+cw.command+" "+cw.value);
}this.__Fm.push(cw);
},__FR:function(cx){if((false)&&qx.core.Environment.get("qx.bom.htmlarea.HtmlArea.debug")){this.debug("ADD TO REDO STACK");
this.debug(cx.actionType+" "+cx.command+" "+cx.value);
}this.__Fn.push(cx);
},_handleKeyPress:function(e){var cy=e.getKeyIdentifier().toLowerCase();
var cz=e.isCtrlPressed();

switch(cy){case N:case t:case I:case r:case G:case C:case Q:case p:case n:case u:case x:break;
case w:case P:case y:case L:case q:case D:case A:if(!cz){this.__FS();
}break;
default:this.__Ft=false;
this.__Fn=[];
this.__FS();
}},__FS:function(){if(!this.__Fv){this.__Fv=true;
this.__Fu=true;
if((qx.core.Environment.get("engine.name")=="mshtml")||(qx.core.Environment.get("engine.name")=="webkit")){this.__Fw=this.__nO.body.innerHTML;
}this.__FV();
}},__FT:null,_handleMouseDown:qx.core.Environment.select(m,{"mshtml":function(e){var cA=e.getOriginalTarget();

if(qx.dom.Node.isElement(cA)&&(qx.dom.Node.isNodeName(cA,c)||qx.dom.Node.isNodeName(cA,f))){this.__FT={node:cA,content:cA.outerHTML};
}else{this.__FT=null;
}},"default":function(e){return true;
}}),_handleMouseUp:qx.core.Environment.select(m,{"gecko":function(e){if(this.__Ev==null){return;
}var cC=this.__Ev.getSelection();

if(!cC){this.__FT=null;
return;
}var cB=cC.anchorNode;
var cD=cB.childNodes[cC.anchorOffset];
if(qx.dom.Node.isNodeName(cD,c)){if(this.__FT==null){this.__FT=cD.cloneNode(true);
}else{if(this.__FT.style.width!=cD.style.width||this.__FT.style.height!=cD.style.height){this.__FU();
this.__FT=cD.cloneNode(true);
}}}else if(qx.dom.Node.isNodeName(cB,d)||qx.dom.Node.isNodeName(cB.parentNode,d)){var cE=cB.parentNode;

while(qx.dom.Node.isNodeName(cE,f)){cE=cE.parentNode;
}if(this.__FT==null){this.__FT=cE.cloneNode(true);
}else{qx.event.Timer.once(function(){if(cE.style.width!=this.__FT.style.width||cE.style.height!=this.__FT.style.height||cE.innerHTML!=this.__FT.innerHTML){this.__FU();
this.__FT=cE.cloneNode(true);
}},this,0);
}}else{this.__FT=null;
}},"default":function(e){var cF=qx.bom.Event.getTarget(e);

if(this.__FT!=null){if(cF.nodeType==1){if(cF==this.__FT.node){if(cF.outerHTML!=this.__FT.content){this.__FT.content=cF.outerHTML;
this.__FU();
}}else{for(var i=0,j=cF.childNodes.length;i<j;i++){if(cF.childNodes[i]==this.__FT.node){if(cF.childNodes[i].outerHTML!=this.__FT.content){this.__FT.content=cF.childNodes[i].outerHTML;
this.__FU();
}}}}}else{this.__FT=null;
}}}}),__FU:qx.core.Environment.select("engine.name",{"mshtml|webkit":function(){this.__FN("Internal",null,null);
},"default":function(){var cG=this.getUndoRedoObject();
cG.actionType="Internal";
this.__FQ(cG);
}}),__FV:function(){qx.event.Timer.once(function(e){if(this.__Ev!=null){var cH={undo:this.isUndoPossible()?0:-1,redo:this.isRedoPossible()?0:-1};
this.__Ev.fireDataEvent("undoRedoState",cH);
}},this,200);
}},destruct:function(){try{qx.event.Registration.removeListener(this.__nO.body,V,this.__Fq);
qx.event.Registration.removeListener(this.__nO,W,this.__Fr);

if((qx.core.Environment.get(m)==l)){qx.event.Registration.removeListener(this.__nO,k,this.__Fs);
}}catch(e){}this._disposeObjects(E);
this.__Ev=this.__Fm=this.__Fn=this._commands=this.__nO=null;
this.__Fp=this.__Fo=null;
}});
})();
(function(){var p="engine.name",o="",n="mshtml",m="inserthtml",h="BackColor",g="FontSize",f="px",d="string",c="textDecoration",b="backgroundImage",bm="backgroundRepeat",bl="backgroundPosition",bk="BODY",bj='|',bi="gecko",bh=" ",bg="id",bf="fontStyle",be="backgroundColor",bd="_moz",w="webkit",x='" ',u="qx.bom.htmlarea.manager.Command",v='</p>',s="insertParagraph",t="OL",q='"></span>',r="'><br class='webkit-block-placeholder' />",A="_moz_dirty",B="no-repeat",J="transparent",H="italic",R="fontWeight",M="type",Y="url(",W=":",D="<p style='",bc="line-through",bb="__paragraph__",ba='<p id="',C="|top|bottom|center|left|right|right top|left top|left bottom|right bottom|",F="LI",G="__placeholder__",I='>',K="outdent",N='<span id="',T="top",X="HiliteColor",y="UL",z="br",E=")",Q='',P="p",O="bold",V="indent",U=";",L="underline",S="span",a="body";
qx.Class.define(u,{extend:qx.core.Object,construct:function(bn){qx.core.Object.call(this);
this.__Ev=bn;
this.__nO=null;
this._commands=null;
this.__EC();
this.__Ew={"Bold":true,"Italic":true,"Underline":true,"StrikeThrough":true};
this.__Ex=[10,12,16,18,24,32,48];
this.__Ey=0;
},statics:{__Ez:C,__EA:"repeat repeat-x repeat-y no-repeat"},members:{__nO:null,__Ev:null,__EB:false,__Ew:null,__Ex:null,__Ey:null,setContentDocument:function(bo){this.__nO=bo;
},getCommandObject:function(bp){if(this._commands[bp]){return this._commands[bp];
}else{return null;
}},__EC:function(){this._commands={bold:{useBuiltin:false,identifier:"Bold",method:"__Fi"},italic:{useBuiltin:false,identifier:"Italic",method:"__Fj"},underline:{useBuiltin:false,identifier:"Underline",method:"__Fk"},strikethrough:{useBuiltin:false,identifier:"StrikeThrough",method:"__Fl"},fontfamily:{useBuiltin:true,identifier:"FontName",method:null},fontsize:{useBuiltin:false,identifier:"FontSize",method:"__Fa"},textcolor:{useBuiltin:true,identifier:"ForeColor",method:null},textbackgroundcolor:{useBuiltin:false,identifier:null,method:"__Fb"},backgroundcolor:{useBuiltin:false,identifier:null,method:"__Fc"},backgroundimage:{useBuiltin:false,identifier:null,method:"__Fd"},justifyleft:{useBuiltin:false,identifier:"JustifyLeft",method:"__EL"},justifyright:{useBuiltin:false,identifier:"JustifyRight",method:"__EL"},justifycenter:{useBuiltin:false,identifier:"JustifyCenter",method:"__EL"},justifyfull:{useBuiltin:false,identifier:"JustifyFull",method:"__EL"},indent:{useBuiltin:true,identifier:"Indent",method:null},outdent:{useBuiltin:true,identifier:"Outdent",method:null},copy:{useBuiltin:true,identifier:"Copy",method:null},cut:{useBuiltin:true,identifier:"Cut",method:null},paste:{useBuiltin:true,identifier:"Paste",method:null},insertorderedlist:{useBuiltin:false,identifier:"InsertOrderedList",method:"__EM"},insertunorderedlist:{useBuiltin:false,identifier:"InsertUnorderedList",method:"__EM"},inserthorizontalrule:{useBuiltin:false,identifier:"InsertHtml",method:"__ER"},insertimage:{useBuiltin:false,identifier:"InsertImage",method:"__EO"},inserthyperlink:{useBuiltin:false,identifier:"CreateLink",method:"__EQ"},selectall:{useBuiltin:false,identifier:"SelectAll",method:"__Fe"},selectedtext:{useBuiltin:false,identifier:null,method:"__Ff"},selectedhtml:{useBuiltin:false,identifier:null,method:"__Fg"},inserthtml:{useBuiltin:false,identifier:"InsertHtml",method:"__EH"},resethtml:{useBuiltin:false,identifier:null,method:"__resetHtml"},gethtml:{useBuiltin:false,identifier:null,method:"__getHtml"},removeformat:{useBuiltin:true,identifier:"RemoveFormat",method:null}};
},execute:function(bq,br){if(!this.__Ev.isReady()){this.error("editor not ready! '"+bq+"':'"+br+"'");
return false;
}bq=bq.toLowerCase();
br=br!=null?br:null;
if(this._commands[bq]){var bs;
var bt=this._commands[bq];
if(!((qx.core.Environment.get(p)==w)&&(bq==V||bq==K))){if(this.__ED()){this.__EE();
}}if(bt.useBuiltin){bs=this.__EF(bt.identifier,false,br);
}else{if(bt.method!=null&&this[bt.method]){bs=this[bt.method].call(this,br,bt);
}else{this.error("The method '"+bt.method+"' you calling to execute the command '"+bq+"' is not available!");
}}this.__Ev.resetSavedRange();
return bs;
}else{this.error("Command "+bq+" is currently not supported!");
}},__ED:function(){var Node=qx.dom.Node;
var bu=this.__Ev.getFocusNode();
var bx=false;
var bv=false;

if(bu){if(Node.isText(bu)){var bw=qx.dom.Hierarchy.getAncestors(bu);

for(var i=0,j=bw.length;i<j;i++){if(Node.isNodeName(bw[i],"p")||qx.bom.htmlarea.HtmlArea.isHeadlineNode(bw[i])){bx=true;
break;
}}}else if(Node.isNodeName(bu,"body")){bv=true;
}}return bv||!bx;
},__EE:function(){this.__EF("formatBlock",false,"p");
},__EF:function(by,bz,bA){try{var bD=this.__nO;
var bB=false;
var bC=this.__Ev.getRange();
this.__nO.body.focus();
if((qx.core.Environment.get("engine.name")=="mshtml")){if(by!="selectall"){bC.select();
if(((bC.text)&&(bC.text.length>0))||((bC.length==1)&&(bC.item(0))&&(bC.item(0).tagName=="IMG"))){bD=bC;
}else{bD=this.__nO;
}}if(((qx.core.Environment.get("engine.name")=="mshtml"))&&(this.__Ew[by])){if(bC.text==""){bB=true;
}}}var bE=bD.execCommand(by,bz,bA);

if(bB&&bC.text!=""){bC.collapse();
}
if((false)&&qx.core.Environment.get("qx.bom.htmlarea.HtmlArea.debug")){this.debug("execCommand "+by+" with value "+bA+" succeded");
}this.__EB=false;
}catch(bF){if((false)&&qx.core.Environment.get("qx.bom.htmlarea.HtmlArea.debug")){this.debug("execCommand "+by+" with value "+bA+" failed");
}return false;
}return bE;
},__EG:qx.core.Environment.select("engine.name",{"mshtml":function(){var bH=this.__Ev;
var bG=bH.getSavedRange()!=null?bH.getSavedRange():bH.getRange();
return bG;
},"default":function(){return this.__Ev.getRange();
}}),__EH:qx.core.Environment.select("engine.name",{"mshtml":function(bI,bJ){var bM;
if(bI==qx.bom.htmlarea.HtmlArea.simpleLinebreak){return this.__EK();
}else{this.__nO.body.focus();
var bL=this.__Ev.getSelection();
var bK=this.__EG();
if(bK&&bL&&bL.type!="Control"){try{bK.pasteHTML(bI);
bK.collapse(false);
bK.select();
bM=true;
}catch(e){}}else{bM=false;
}this.__Ev.resetSavedRange();
return bM;
}},"default":function(bN,bO){this.__nO.body.focus();
return this.__nO.execCommand(bO.identifier,false,bN);
}}),insertParagraphOnLinebreak:qx.core.Environment.select(p,{"gecko":function(){var bW=this.__EU();
var cb=this.__EI(bW);
var bS=this.__ES(bW);
var bX=G+Date.parse(new Date());
var bY=bb+Date.parse(new Date());
var bQ=Q;
var bU=N+bX+q;
bQ+=bU;
bQ+=ba+bY+x+cb+I;
bQ+=bS+v;
this.__Ev.getCommandManager().addUndoStep(m,s,this.getCommandObject(m));
this.execute(m,bQ);
this.__EJ();
qx.bom.element.Attribute.reset(this.__nO.getElementById(bX),bg);
var bV=this.__nO.getElementById(bY);

if(bV.previousSibling.innerHTML==bU){var bP=this.__ET();
var bT=this.__nO.createElement(z);
var bR=this.__nO.createAttribute(A);
bR.nodeValue=o;
bT.setAttributeNode(bR);
var ca=this.__nO.createAttribute(M);
ca.nodeValue=bd;
bT.setAttributeNode(ca);
bV.previousSibling.appendChild(bP);
bV.previousSibling.appendChild(bT);
}qx.bom.element.Attribute.reset(bV,bg);
return true;
},"webkit":function(){var cc=this.getCurrentStyles();
var cd=o;
var cf={"background-color":true,"text-align":true};
for(var ce in cc){if(cf[ce]){cd+=ce+W+cc[ce]+U;
}}this.__Ev.insertHtml(D+cd+r);
},"default":qx.lang.Function.empty}),__EI:qx.core.Environment.select("engine.name",{"gecko":function(cg){var cl='style="';
var ck=cg.child;
if(ck["text-align"]){cl+='text-align:'+ck["text-align"]+';';
delete cg.child["text-align"];
}if(ck["font-family"]){cl+='font-family:'+ck["font-family"]+';';
delete cg.child["font-family"];
}var cj={"padding-top":true,"padding-bottom":true,"padding-left":true,"padding-right":true};
var ch={"margin-top":true,"margin-bottom":true,"margin-left":true,"margin-right":true};

for(var ci in ck){if(cj[ci]||ch[ci]){cl+=ci+':'+ck[ci]+';';
delete cg.child[ci];
}}cl+='"';
return cl;
},"default":function(){return "";
}}),__EJ:qx.core.Environment.select("engine.name",{"gecko":function(){var ct=this.__Ev.getSelection();

if(!ct||!ct.focusNode){return;
}var cm=ct.focusNode;
var cr=ct.focusNode;

while(!qx.dom.Node.isNodeName(cr,"p")){cr=cr.parentNode;
}var cq=cr.previousSibling.id;
var cu=cr.nextSibling?cr.nextSibling.id:null;

if(qx.lang.String.startsWith(cq,"__paragraph__")&&cq==cu){var cs=cr.nextSibling;
var co=this.__Ev.getRange();
co.selectNode(cs);
ct.addRange(co);
var cn=qx.bom.htmlarea.HtmlArea.EMPTY_DIV;
this.__Ev.getCommandManager().addUndoStep("inserthtml",cn,this.getCommandObject("inserthtml"));
this.execute("inserthtml",cn);
var cp=this.__Ev.getRange();

if(cm){while(cm&&cm.firstChild&&qx.dom.Node.isElement(cm.firstChild)){cm=cm.firstChild;
}}cp.selectNode(cm);
ct.addRange(cp);
cp.collapse(true);
}},"default":qx.lang.Function.empty}),__EK:qx.core.Environment.select("engine.name",{"mshtml":function(){var cv=this.__Ev.getRange();
if(cv&&!qx.dom.Node.isNodeName(cv.parentElement(),"li")){cv.pasteHTML(qx.bom.htmlarea.HtmlArea.simpleLinebreak);
cv.collapse(false);
cv.select();
return true;
}return false;
},"default":function(){return false;
}}),__EL:function(cw,cx){var cy=(qx.core.Environment.get("engine.name")=="mshtml")?this.__Ev.getRange():this.__nO;
return cy.execCommand(cx.identifier,false,cw);
},__EM:function(cz,cA){if((qx.core.Environment.get("engine.name")=="mshtml")){var cB=this.__Ev.getFocusNode();
this.__EN(cB);
}this.__nO.body.focus();
var cC=this.__nO.execCommand(cA.identifier,false,cz);

if((qx.core.Environment.get("engine.name")=="webkit")){var cB=this.__Ev.getFocusNode();
this.__EN(cB.parentNode);
}return cC;
},__EN:function(cD){var cE=[];
var parent=cD.parentNode;

while(qx.dom.Node.isNodeName(parent,"blockquote")){cE.push(parent);
parent=parent.parentNode;
}if(cE.length>0){parent.appendChild(cD);
parent.removeChild(cE[cE.length-1]);
}},__EO:qx.core.Environment.select("engine.name",{"gecko":function(cF,cG){if(cF.src){this.__nO.execCommand(cG.identifier,false,cF.src);
delete cF.src;
var cT=this.__Ev.getSelection();
if(cT){var cS=cT.anchorNode;
var cN=cT.anchorOffset;
var cK=cS.childNodes[cN-1];
var cQ;

for(var cM in cF){cQ=this.__nO.createAttribute(cM);
cQ.nodeValue=cF[cM];
cK.setAttributeNode(cQ);
}var cL={"font":true,"span":true};
var cI=null;
var cP=true;
if(qx.dom.Node.isElement(cK.previousSibling)&&cL[qx.dom.Node.getName(cK.previousSibling)]){cI=cK.previousSibling;
}else if(cL[qx.dom.Node.getName(cK.parentNode)]){cI=cK.parentNode;
cP=false;
}var cJ=this.__nO.createDocumentFragment();
var cU;

if(cP&&cI!=null){var cL=this.__EP(cI);
cJ.appendChild(cL.root);
cU=cL.inline;
}else{cU=this.__nO.createElement("span");
cJ.appendChild(cU);
}var cR=this.__nO.createTextNode("");
cU.appendChild(cR);
var cO=cK.parentNode;
if(cK==cO.lastChild){cO.appendChild(cJ);
}else{cO.insertBefore(cJ,cK.nextSibling);
}var cH=this.__Ev.getRange();
cH.selectNodeContents(cU);
}return true;
}else{return false;
}},"mshtml":function(cV,cW){var db=false;
var dc="<img ";

for(var cX in cV){dc+=cX+"='"+cV[cX]+"' ";
}dc+="/>";
var cY=this.__Ev.getSelection();
var da=this.__EG();
if(cY&&cY.type!="Control"){try{da.select();
da.pasteHTML(dc);
db=true;
}catch(e){}}this.__Ev.resetSavedRange();
return db;
},"default":function(dd,de){if(dd.src){var dg="<img ";

for(var df in dd){dg+=df+"='"+dd[df]+"' ";
}dg+="/>";
return this.__nO.execCommand("InsertHtml",false,dg);
}else{return false;
}}}),__EP:function(dh){while(dh.firstChild&&dh.firstChild.nodeType==1){dh=dh.firstChild;
}var dl=this.__EU(dh);
var dq,dj,dn;
var di="";
var parent=null;
var dp=null;
var dm=dl.child;

while(dm){dp=this.__nO.createElement(dm["legacy-font-size"]?"font":"span");
dj=this.__nO.createAttribute("style");
dp.setAttributeNode(dj);
for(var dk in dm){if(dk!="child"&&dk!="legacy-font-size"){di+=dk+":"+dm[dk]+";";
}else if(dk=="legacy-font-size"){dn=this.__nO.createAttribute("size");
dn.nodeValue=dm[dk];
dp.setAttributeNode(dn);
}}dj.nodeValue=di;

if(parent!=null){parent.appendChild(dp);
}else{dq=dp;
}parent=dp;
dm=dm.child;
di="";
}return {root:dq,inline:dp};
},__EQ:qx.core.Environment.select("engine.name",{"gecko|opera":function(dr,ds){var dy=this.__Ev.getSelection();
var dv=this.__Ev.getRange();
if(dy.isCollapsed){var du="qx_link"+(++this.__Ey);
var dz=this.__nO.createElement("a");
var dw=this.__nO.createAttribute("href");
var dt=this.__nO.createAttribute("id");
var dx=this.__nO.createTextNode(dr);
dt.nodeValue=du;
dz.setAttributeNode(dt);
dw.nodeValue=dr;
dz.setAttributeNode(dw);
dz.appendChild(dx);
dv.insertNode(dz);
dv.selectNode(dz);
dy.collapseToEnd();
return true;
}else{return this.__nO.execCommand(ds.identifier,false,dr);
}},"mshtml":function(dA,dB){try{var dD;
var dC=this.__EG();
var dE=this.__Ev;
var dC=dE.getSavedRange()!=null?dE.getSavedRange():dE.getRange();

if(dC!=null&&dC.text!=""){dD=dC.execCommand(dB.identifier,false,dA);
}else{dD=this.__EH(' <a href="'+dA+'">'+dA+'</a> ',dB);
}this.__Ev.resetSavedRange();
return dD;
}catch(e){return false;
}},"default":function(dF,dG){return this.__nO.execCommand(dG.identifier,false,dF);
}}),__ER:function(dH,dI){var dJ="<hr />";
if((qx.core.Environment.get("engine.name")=="gecko")){dJ+=this.__ES();
}return this.__EH(dJ,dI);
},__ES:function(dK){var dO="";
var dN='<span style="';
var dM=[];
var dR=typeof dK!=="undefined"?dK:this.__EU();
var dP=dR.child;
var dQ=false;
if(qx.lang.Object.isEmpty(dP)){return "";
}
while(dP){dQ=dP["legacy-font-size"]!=null;
dO+=dQ?'<font style="':dN;

for(var dL in dP){dO+=(dL!="child"&&dL!="legacy-font-size")?dL+':'+dP[dL]+';':"";
}dO+=dQ?'" size="'+dP["legacy-font-size"]+'">':'">';
dM.unshift(dQ?"</font>":"</span>");
dP=dP.child;
}if(dM.length==1&&dM[0]=="</font>"){dO+="<span></span>";
}for(var i=0,j=dM.length;i<j;i++){dO+=dM[i];
}return dO;
},__ET:function(){var dT=this.__nO.createDocumentFragment();
var dY=this.__EU();
var parent=dT;
var dW=dY.child;
var dU;
var dX=false;

while(dW){dX=dW["legacy-font-size"]!=null;
dU=this.__nO.createElement(dX?"font":"span");
parent.appendChild(dU);
for(var dS in dW){if(dS!="child"&&dS!="legacy-font-size"){qx.bom.element.Style.set(dU,dS,dW[dS]);
}}
if(dX){var dV=this.__nO.createAttribute("size");
dV.nodeValue=dW["legacy-font-size"];
dU.setAttributeNode(dV);
}parent=dU;
dW=dW.child;
}return dT;
},__EU:function(ea){var ec={};
var ed=null;
var ee=this.getCurrentStyles(ea);
ed=ec.child={};

for(var eb in ee){if(eb!="text-decoration"){ed[eb]=ee[eb];
}}if(ee["text-decoration"]){var ef=ee["text-decoration"];
for(var i=0,j=ef.length;i<j;i++){if(ed==null){ed=ec.child={};
}else{ed=ed.child={};
}ed['color']=ef[i]['color'];
ed['text-decoration']=ef[i]['text-decoration'];
}}if(ee['color']&&ee['text-decoration']){ed=ed.child={};
ed['color']=ee['color'];
}return ec;
},getCurrentStyles:function(eg){if(eg==null){var ei=this.__Ev.getSelection();

if(!ei||ei.focusNode==null){return {};
}eg=(ei.focusNode.nodeType==3)?ei.focusNode.parentNode:ei.focusNode;
}var ej=qx.dom.Hierarchy.getAncestors(eg);
var el=qx.lang.Array.insertBefore(ej,eg,ej[0]);
var eh=this.__EV(el);
var ek=this.__EW(eh,el);
return ek;
},__EV:function(em){var ep={};
var en,eo;

for(var i=0,j=em.length;i<j;i++){eo=em[i];

for(var k=0,l=eo.style.length;k<l;k++){en=eo.style[k];

if(en.length>0&&typeof ep[en]==="undefined"){ep[en]=eo.style.getPropertyValue(en);
}}if(eo.tagName.toUpperCase()=="FONT"&&eo.size&&ep["legacy-font-size"]===undefined){ep["legacy-font-size"]=eo.size;
}}if(ep["legacy-font-size"]&&ep["font-size"]){delete ep["font-size"];
}return ep;
},__EW:function(eq,er){var ew=er[0];
var eu=this.__Ev.getContentWindow().getComputedStyle(ew,null);
var es;
var ev={};

for(var et in eq){if(et!="legacy-font-size"){es=eu.getPropertyValue(et);
}else{es=eq[et];
}if(et=="background-color"&&es=="transparent"){ev[et]=this.__EY(er);
}else if(et=="text-decoration"){ev[et]=this.__EX(er);
}else{ev[et]=es;
}}return ev;
},__EX:function(ey){var eB,eD,ez;
var eC=[];
var eA=this.__Ev.getContentWindow();

for(var i=0,j=ey.length;i<j;i++){ez=eA.getComputedStyle(ey[i],null);
eB=ez.getPropertyValue("text-decoration");
eD=ez.getPropertyValue("color");
if(eB!="none"){eC.push({'text-decoration':eB,'color':eD});
}}return eC;
},__EY:function(eE){var eG,eF,eH;

for(var i=0;i<eE.length;i++){eG=eE[i];
eF=this.__Ev.getContentWindow().getComputedStyle(eG,null);
eH=eF.getPropertyValue("background-color");
if(eH!="transparent"){return eH;
}}},__Fa:function(eI,eJ){var eV=this.__Ev.getSelection();
var eQ=((qx.core.Environment.get(p)==n))?this.__Ev.getRange():eQ=eV.getRangeAt(0);
var eR=[];
var eU;
var eP=[t,y];
var eK,i,j,eS;
eS=((qx.core.Environment.get(p)==n))?eQ.parentElement():eQ.commonAncestorContainer;
if(eS.tagName==bk){for(var i=0;i<eP.length;i++){eK=eS.getElementsByTagName(eP[i]);

for(var j=0;j<eK.length;j++){if(eK[j]){eR.push(eK[j]);
}}}}else if(qx.lang.Array.contains(eP,eS.tagName)){eR.push(eS);
}
if(eR.length>0){for(var i=0;i<eR.length;i++){var eM=eR[i];
eU=((qx.core.Environment.get(p)==n))?((eM==eS)||(eS.tagName==bk)):eV.containsNode(eM,false);
for(j=0;j<eM.childNodes.length;j++){var eO=eM.childNodes[j];
if(eU||(eV.focusNode.nodeValue&&qx.dom.Hierarchy.contains(eO,eV.focusNode)&&(eV.focusOffset==eV.focusNode.nodeValue.length))||(qx.dom.Hierarchy.contains(eO,eV.anchorNode)&&(eV.anchorOffset==0))||(eV.containsNode(eO,false))){eO.style.fontSize=(this.__Ex[eI]||eI)+f;
}}}}else{var eN=((qx.core.Environment.get(p)==n))?eS:eV.focusNode;
var eT=qx.dom.Hierarchy.getAncestors(eN);

for(i=0;i<eT.length;i++){if(eT[i].tagName==F){if((((qx.core.Environment.get(p)==bi))&&((eV.anchorOffset==0)&&(eV.focusNode.nodeValue&&(eV.focusOffset==eV.focusNode.nodeValue.length))&&qx.dom.Hierarchy.contains(eT[i].firstChild,eV.anchorNode)&&qx.dom.Hierarchy.contains(eT[i].lastChild,eV.focusNode)))||(((qx.core.Environment.get(p)==n))&&(eQ.htmlText==eT[i].innerHTML))){eT[i].style.fontSize=(this.__Ex[eI]||eI)+f;
}break;
}}}if((qx.core.Environment.get(p)==n)){this.__nO.body.focus();
this.__Ev.getRange().select();
return this.__nO.execCommand(g,false,eI);
}else if((qx.core.Environment.get(p)==bi)){var parent=eQ.commonAncestorContainer;
if(parent.nodeType===1){var eL=parent.getElementsByTagName(S);

for(i=0;i<eL.length;i++){if(eL[i].style.fontSize){eL[i].style.fontSize=null;
}}}}return this.__nO.execCommand(g,false,eI);
},__Fb:qx.core.Environment.select(p,{"mshtml":function(eW,eX){this.__nO.body.focus();
return this.__nO.execCommand(h,false,eW);
},"gecko|opera":function(eY,fa){this.__nO.body.focus();
return this.__nO.execCommand(X,false,eY);
},"webkit":function(fb,fc){var fd=this.__Ev.getSelection();
var fe=this.__Ev.getRange();
if(!fd||!fd.isCollapsed){this.__nO.body.focus();
this.__nO.execCommand(h,false,fb);
if(fd){fd.collapseToEnd();
}return true;
}else{var fg=fd.anchorOffset;
var fh=fd.anchorOffset;
var fe=fd.getRangeAt(0);
var ff=fd.anchorNode;
while(fh>0){if(ff.nodeValue.charCodeAt(fh)==160||ff.nodeValue.charCodeAt(fh)==32){break;
}else{fh--;
}}while(fg<ff.nodeValue.length){if(ff.nodeValue.charCodeAt(fg)==160||ff.nodeValue.charCodeAt(fg)==32){break;
}else{fg++;
}}fe.setStart(fd.anchorNode,fd.anchorNode.nodeValue.charAt(fh)==bh?fh+1:fh);
fe.setEnd(fd.anchorNode,fg);
fd.addRange(fe);
this.__nO.body.focus();
this.__nO.execCommand(h,false,fb);
fd.collapseToEnd();
return true;
}}}),__Fc:function(fi,fj){fi=fi!=null&&typeof fi==d?fi:J;
qx.bom.element.Style.set(this.__nO.body,be,fi);
return true;
},__Fd:function(fk,fl){var fm,fo,fn;
var fp=qx.bom.htmlarea.manager.Command;

if(fk==null){fm=null;
}else{fm=fk[0];
fo=fk[1];
fn=fk[2];
}if(fm==null||typeof fm!=d){qx.bom.element.Style.set(this.__nO.body,b,o);
qx.bom.element.Style.set(this.__nO.body,bm,o);
qx.bom.element.Style.set(this.__nO.body,bl,o);
return true;
}else{if(fm.search(/^url.*\(/)==-1){fm=Y+fm+E;
}}if(fo!=null&&!qx.lang.String.contains(fp.__EA,fo)){return false;
}else{fo=B;
}
if(fn!=null){if(qx.lang.Type.isString(fn)&&!qx.lang.String.contains(fp.__Ez,bj+fn+bj)){return false;
}else{if(qx.lang.Type.isArray(fn)&&fn.length==2){fn=fn[0]+bh+fn[1];
}else{return false;
}}}else{fn=T;
}qx.bom.element.Style.set(this.__nO.body,b,fm);
qx.bom.element.Style.set(this.__nO.body,bm,fo);
qx.bom.element.Style.set(this.__nO.body,bl,fn);
return true;
},__Fe:qx.core.Environment.select(p,{"mshtml":function(fq,fr){var fs=this.__nO.body.createTextRange();
fs.select();
return true;
},"default":function(ft,fu){return this.__EF(fu.identifier,false,ft);
}}),__Ff:function(){return this.__Ev.getSelectedText();
},__Fg:function(){return this.__Ev.getSelectedHtml();
},__Fh:function(fv,fw){var fA=this.__Ev.getFocusNode();

if(fA.textContent==o){var fy=qx.dom.Hierarchy.getAncestors(fA);
fy.unshift(fA);
var Node=qx.dom.Node;
var fx=qx.bom.element.Style;
var fz=fy.shift();

while(fy.length>0){if(Node.getName(fz)==P||Node.getName(fz)==a){break;
}if(fx.get(fz,fv,fx.LOCAL_MODE)==fw){fx.reset(fz,fv);
return true;
}fz=fy.shift();
}}return false;
},__Fi:qx.core.Environment.select(p,{"gecko":function(fB,fC){if(this.__Fh(R,O)){return true;
}else{return this.__EF(fC.identifier,false,fB);
}},"default":function(fD,fE){return this.__EF(fE.identifier,false,fD);
}}),__Fj:qx.core.Environment.select(p,{"gecko":function(fF,fG){if(this.__Fh(bf,H)){return true;
}else{return this.__EF(fG.identifier,false,fF);
}},"default":function(fH,fI){return this.__EF(fI.identifier,false,fH);
}}),__Fk:qx.core.Environment.select(p,{"gecko":function(fJ,fK){if(this.__Fh(c,L)){return true;
}else{return this.__EF(fK.identifier,false,fJ);
}},"default":function(fL,fM){return this.__EF(fM.identifier,false,fL);
}}),__Fl:qx.core.Environment.select(p,{"gecko":function(fN,fO){if(this.__Fh(c,bc)){return true;
}else{return this.__EF(fO.identifier,false,fN);
}},"default":function(fP,fQ){return this.__EF(fQ.identifier,false,fP);
}})},destruct:function(){this.__nO=this.__Ev=this._commands=null;
this.__Ew=this.__Ex=null;
}});
})();

});